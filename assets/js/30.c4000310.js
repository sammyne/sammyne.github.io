(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{515:function(s,t,a){s.exports=a.p+"assets/img/baidu-dns-lookup.949e17ed.png"},516:function(s,t,a){s.exports=a.p+"assets/img/dns-workflow.6799d9a4.jpg"},517:function(s,t,a){s.exports=a.p+"assets/img/icp-lookup.0847a457.png"},779:function(s,t,a){"use strict";a.r(t);var n=a(6),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"å¼•è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¼•è¨€"}},[s._v("#")]),s._v(" å¼•è¨€")]),s._v(" "),n("p",[s._v("åŸŸåç³»ç»Ÿï¼ˆDomain Name System ç¼©å†™ DNSï¼‰æ˜¯å› ç‰¹ç½‘çš„ä¸€é¡¹æ ¸å¿ƒæœåŠ¡ï¼Œæ˜¯å°†åŸŸåå’Œ IP åœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ã€‚è¦å®Œå…¨è®²æ¸…æ¥šï¼Œææ€•å¾—é•¿ç¯‡å¤§è®ºï¼Œå› æ­¤ï¼Œæœ¬æ–‡åªè®²ä¸€äº›ç›¸å¯¹å¸¸ç”¨çš„çŸ¥è¯†ç‚¹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ"}},[s._v("#")]),s._v(" æ¦‚å¿µ")]),s._v(" "),n("p",[s._v("DNS çš„å…¨ç§°æ˜¯ Domain Name Systemï¼Œä¸»è¦ä½œç”¨å°±æ˜¯å°†äººä»¬æ‰€ç†Ÿæ‚‰çš„ç½‘å€ (åŸŸå) â€œç¿»è¯‘â€æˆç”µè„‘å¯ä»¥ç†è§£çš„ IP åœ°å€ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš DNS åŸŸåè§£æã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œæµè§ˆå™¨æ‰“å¼€ç™¾åº¦æœç´¢é¡µé¢çš„æ—¶å€™ï¼Œéƒ½æ˜¯æ•² www.baidu.comï¼Œè¿›è¡Œç™»é™†ã€‚è¦æ•² IP åœ°å€çš„è¯ï¼Œææ€•ä¼šå“é€€å¾ˆå¤šäºº~æ˜æ˜¾ï¼ŒåŸŸåå®¹æ˜“è®°å¿†ã€‚")]),s._v(" "),n("p",[s._v("è€Œä¸”ï¼Œä¸€ä¸ªåŸŸåå¾€å¾€å¯¹åº”å¤šä¸ª DNS åœ°å€ã€‚åˆ©ç”¨ "),n("a",{attrs:{href:"http://tool.chinaz.com/dns?type=1&host=&ip=",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç«™é•¿å·¥å…·çš„ DNS æŸ¥è¯¢æœåŠ¡"),n("OutboundLink")],1),s._v("ï¼Œå¯æŸ¥å¾— www.baidu.com çš„ DNS åœ°å€å¦‚ä¸‹")]),s._v(" "),n("p",[n("img",{attrs:{src:a(515),alt:""}})]),s._v(" "),n("p",[s._v("èƒ½å…¨éƒ¨éƒ½è®°ä½çš„è‚¯å®šéƒ½æ˜¯è®°å¿†åŠ›è¶…ç¾¤çš„ ğŸ˜ƒ")]),s._v(" "),n("h2",{attrs:{id:"æµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµç¨‹"}},[s._v("#")]),s._v(" æµç¨‹")]),s._v(" "),n("p",[s._v("æ¥ä¸‹æ¥ï¼Œå°±ä¸å¾—ä¸è¯´ä¸€é“ç»å…¸é¢è¯•é¢˜äº†")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("æµè§ˆå™¨è¾“å…¥ URL åˆ°è¿”å›é¡µé¢çš„å…¨è¿‡ç¨‹")])]),n("p",[s._v("å…¶å®å›ç­”å¾ˆç®€å•(ä¿—ç§°"),n("em",[s._v("å¤©é¾™å…«æ­¥")]),s._v(")")]),s._v(" "),n("ol",[n("li",[s._v("æ ¹æ®åŸŸåï¼Œè¿›è¡Œ DNS åŸŸåè§£æï¼›")]),s._v(" "),n("li",[s._v("æ‹¿åˆ°è§£æçš„ IP åœ°å€ï¼Œå»ºç«‹ TCP è¿æ¥ï¼›")]),s._v(" "),n("li",[s._v("å‘ IP åœ°å€å‘é€ HTTP è¯·æ±‚ï¼›")]),s._v(" "),n("li",[s._v("æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼›")]),s._v(" "),n("li",[s._v("è¿”å›å“åº”ç»“æœï¼›")]),s._v(" "),n("li",[s._v("å…³é—­ TCP è¿æ¥ï¼›")]),s._v(" "),n("li",[s._v("æµè§ˆå™¨è§£æ HTMLï¼›")]),s._v(" "),n("li",[s._v("æµè§ˆå™¨å¸ƒå±€æ¸²æŸ“ï¼›")])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("å»¶ä¼¸")]),n("p",[s._v("ç”±äºæœ¬æ–‡ä¸æ˜¯è®² HTTP è¯·æ±‚ï¼Œä½†ç¨å¾®å»¶ä¼¸ä¸€ä¸‹çš„è¯ï¼Œè¿˜å¯ä»¥æå‡ ä¸ªé—®é¢˜å¦‚ä¸‹")]),s._v(" "),n("ol",[n("li",[s._v("ä¸€ä¸ª TCP è¿æ¥å¯ä»¥å¯¹åº”å‡ ä¸ª HTTP è¯·æ±‚ï¼Ÿ(æç¤ºï¼Œè¿™åœ¨é—®ä½  HTTP1.0 å’Œ 1.1 çš„åŒºåˆ«)")]),s._v(" "),n("li",[s._v("ä¸€ä¸ª TCP è¿æ¥ä¸­ HTTP è¯·æ±‚å‘é€å¯ä»¥ä¸€èµ·å‘é€ä¹ˆï¼ˆæ¯”å¦‚ä¸€èµ·å‘ä¸‰ä¸ªè¯·æ±‚ï¼Œå†ä¸‰ä¸ªå“åº”ä¸€èµ·æ¥æ”¶ï¼‰ï¼Ÿ(æç¤ºï¼Œè¿™å°±æ˜¯åœ¨é—®ä½  HTTP2.0 å’Œ HTTP1.1 åè®®çš„åŒºåˆ«)")]),s._v(" "),n("li",[s._v("æµè§ˆå™¨å¯¹åŒä¸€ Host å»ºç«‹ TCP è¿æ¥åˆ°æ•°é‡æœ‰æ²¡æœ‰é™åˆ¶ï¼Ÿ(æ‹œæ‰˜ï¼Œä¸€ä¸ªç½‘ç«™é‚£ä¹ˆå¤šå›¾ç‰‡ï¼Œå¼€ä¸€ä¸ª TCP è¿æ¥ï¼ŒæŒ‰é¡ºåºä¸‹è½½ï¼Ÿé‚£ä¸æ˜¯ç­‰åˆ°æ­»ï¼Ÿ)")])])]),n("h2",{attrs:{id:"è§£æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è§£æ"}},[s._v("#")]),s._v(" è§£æ")]),s._v(" "),n("p",[s._v("OKï¼Œç€é‡è¯´ DNS è§£æè¿™å—ï¼Œæµç¨‹å›¾å¦‚ä¸‹")]),s._v(" "),n("p",[n("img",{attrs:{src:a(516),alt:""}})]),s._v(" "),n("p",[s._v("å¤§è‡´å°±æ˜¯ï¼šæµè§ˆå™¨è¾“å…¥åœ°å€ï¼Œç„¶åæµè§ˆå™¨è¿›ç¨‹è°ƒç”¨æ“ä½œç³»ç»ŸæŸä¸ªåº“é‡Œçš„ "),n("code",[s._v("gethostbyname")]),s._v(" å‡½æ•°(ä¾‹å¦‚ï¼ŒLinux GNU glibc æ ‡å‡†åº“çš„ "),n("code",[s._v("gethostbyname")]),s._v(" å‡½æ•°)ï¼Œè¿™ä¸ªå‡½æ•°é€šè¿‡ç½‘å¡ç»™ DNS æœåŠ¡å™¨å‘ UDP è¯·æ±‚ï¼Œæ¥æ”¶ç»“æœï¼Œæœ€åå°†æ‰€å¾— IP åœ°å€ç»™è¿”å›ç»™æµè§ˆå™¨ã€‚")]),s._v(" "),n("p",[s._v("è¿™å¼ å›¾å…¶å®å·²ç»è®²æ˜ç™½å¤§è‡´çš„æµç¨‹ï¼Œä½†æ˜¯ç»†èŠ‚ä¸Šå¯èƒ½æœ‰äº›å·®å¼‚ã€‚ ä¾‹å¦‚")]),s._v(" "),n("ul",[n("li",[s._v("ç”¨ chrome æµè§ˆå™¨æ—¶ï¼Œå…¶å®ä¼šå…ˆå»æµè§ˆå™¨çš„ dns ç¼“å­˜æŸ¥è¯¢ï¼Œç¼“å­˜ç¼ºå¤±çš„è¯å†å»è°ƒç”¨ "),n("code",[s._v("gethostbyname")]),s._v(" å‡½æ•°")]),s._v(" "),n("li",[n("code",[s._v("gethostbyname")]),s._v(" å‡½æ•°åœ¨è¯•å›¾è¿›è¡Œ DNS è§£æä¹‹å‰é¦–å…ˆæ£€æŸ¥åŸŸåæ˜¯å¦åœ¨æœ¬åœ° Hosts é‡Œï¼Œå¦‚æœæ²¡æ‰¾åˆ°å†å» DNS æœåŠ¡å™¨æŸ¥")])]),s._v(" "),n("p",[s._v("è‡³æ­¤åˆå¯è§£å†³ä»¥ä¸‹ä¸¤é“é¢è¯•é¢˜ ğŸ˜ƒ")]),s._v(" "),n("ol",[n("li",[s._v("è¯´è¯´ UDP åè®®å’Œ TCP å„è‡ªçš„åº”ç”¨åœºæ™¯")]),s._v(" "),n("li",[s._v("DNS åœ¨åŸŸåè§£æä¸Šç”¨çš„æ˜¯ UDP åè®®è¿˜æ˜¯ TCP åè®®")])]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("æ³¨æ„äº‹é¡¹")]),n("p",[s._v("DNS ä¹Ÿæœ‰ä¸€ä¸ªåœ°æ–¹ç”¨åˆ°äº† TCP åè®®--"),n("strong",[s._v("åŒºåŸŸä¼ é€")]),s._v("ã€‚DNS è§„èŒƒè§„å®šäº† 2 ç§ç±»å‹çš„ DNS æœåŠ¡å™¨ï¼šä¸» DNS æœåŠ¡å™¨å’Œè¾…åŠ© DNS æœåŠ¡å™¨ã€‚åœ¨ä¸€ä¸ªåŒºä¸­ï¼Œä¸» DNS æœåŠ¡å™¨ä»è‡ªå·±æœ¬æœºçš„æ•°æ®æ–‡ä»¶è¯»å–è¯¥åŒºçš„ DNS æ•°æ®ä¿¡æ¯ï¼Œè€Œè¾…åŠ© DNS æœåŠ¡å™¨åˆ™ä»åŒºçš„ä¸» DNS æœåŠ¡å™¨è¯»å–è¯¥åŒºçš„ DNS æ•°æ®ä¿¡æ¯ã€‚å½“ä¸€ä¸ªè¾…åŠ© DNS æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå®ƒéœ€è¦ä¸ä¸» DNS æœåŠ¡å™¨é€šä¿¡ï¼Œå¹¶åŠ è½½æ•°æ®ä¿¡æ¯ï¼Œè¿™å°±å«åšåŒºåŸŸä¼ é€ï¼ˆzone transferï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ TCP åè®®ã€‚")])]),n("p",[s._v("å†æ·±ç©¶ä¸€ä¸‹çš„è¯ï¼Œè¿˜å¯ä»¥æå‡ºä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Q1ï¼šåŸŸåè§£æä¸ºä»€ä¹ˆç”¨ UDP"),n("br"),s._v("\nA1ï¼šå› ä¸º UDP å¿«ï¼UDP çš„ DNS åè®®åªè¦ä¸€ä¸ªè¯·æ±‚ã€ä¸€ä¸ªåº”ç­”å°±å¥½äº†ã€‚è€Œæ¢ç”¨ TCP çš„è¯ï¼Œè¦ä¸‰æ¬¡æ¡æ‰‹ã€å‘é€æ•°æ®ä»¥åŠåº”ç­”ã€å››æ¬¡æŒ¥æ‰‹ã€‚ä½†æ˜¯ UDP åè®®ä¼ è¾“å†…å®¹ä¸èƒ½è¶…è¿‡ 512 å­—èŠ‚ã€‚å¥½åœ¨å®¢æˆ·ç«¯å‘ DNS æœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡ 512 å­—èŠ‚ï¼Œç”¨ UDP ä¼ è¾“å³å¯ã€‚")])]),s._v(" "),n("li",[n("p",[s._v("Q2ï¼šåŒºåŸŸå¤åˆ¶ä¸ºä»€ä¹ˆç”¨ TCP"),n("br"),s._v("\nA2ï¼šå› ä¸º TCP åè®®å¯é æ€§å¥½ï¼ä»ä¸» DNS ä¸Šå¤åˆ¶å†…å®¹ç”¨ä¸å¯é çš„ UDP ä¸å¥½å§ã€‚TCP åè®®ä¼ è¾“çš„å†…å®¹å¤§ï¼ŒUDP åªæœ‰å¯æ€œçš„ 512 å­—èŠ‚ï¼Ÿä¸‡ä¸€åŒæ­¥çš„æ•°æ®å¤§äº 512 å­—èŠ‚å°±ç©è›‹äº†ã€‚")])])]),s._v(" "),n("h2",{attrs:{id:"åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†"}},[s._v("#")]),s._v(" åŸç†")]),s._v(" "),n("p",[s._v("æœ€åå°±åˆ°äº† DNS è§£æåŸŸåçš„åŸç†ã€‚")]),s._v(" "),n("h3",{attrs:{id:"dig-å‘½ä»¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dig-å‘½ä»¤"}},[s._v("#")]),s._v(" "),n("code",[s._v("dig")]),s._v(" å‘½ä»¤")]),s._v(" "),n("p",[s._v("é¦–å…ˆä»‹ç» linux ä¸‹çš„ "),n("code",[s._v("dig")]),s._v(" å‘½ä»¤ï¼Œæ¼”ç¤ºè§£æåŸŸåçš„è¿‡ç¨‹ã€‚"),n("code",[s._v("dig")]),s._v(" å¤©çŒ«åŸŸåçš„è¿‡ç¨‹å¦‚ä¸‹")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("sammyne@ubuntu:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" www.baidu.com\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" DiG "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.16")]),s._v(".1-Ubuntu "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" www.baidu.com\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" global options: +cmd\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Got answer:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("HEADER"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),s._v(" opcode: QUERY, status: NOERROR, id: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9523")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" flags: qr rd ra"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" QUERY: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", ANSWER: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(", AUTHORITY: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", ADDITIONAL: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" OPT PSEUDOSECTION:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" EDNS: version: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", flags:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" udp: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("65494")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" QUESTION SECTION:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("www.baidu.com.\t\t\tIN\tA\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ANSWER SECTION:\nwww.baidu.com.\t\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("\tIN\tCNAME\twww.a.shifen.com.\nwww.a.shifen.com.\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v("\tIN\tA\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112.80")]),s._v(".248.76\nwww.a.shifen.com.\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v("\tIN\tA\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112.80")]),s._v(".248.75\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Query time: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" msec\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" SERVER: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.53"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#53(127.0.0.53)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" WHEN: Sun Feb "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":51:14 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" MSG SIZE  rcvd: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("æ³¨æ„äº‹é¡¹")]),n("p",[n("code",[s._v("->>HEADER<<-")]),s._v(" è¡Œçš„ "),n("code",[s._v("status")]),s._v(" ä¸º "),n("code",[s._v("SERVFAIL")]),s._v(" è¯´æ˜ DNS æŸ¥è¯¢å¤±è´¥ï¼Œå¯èƒ½åŸå› æ˜¯æ²¡æ³•é“¾æ¥ DNS æœåŠ¡å™¨ã€‚")])]),n("p",[s._v("è«æ…Œï¼Œæˆ‘ä»¬æ…¢æ…¢åˆ†æé‡ç‚¹çš„ä¸¤æ®µã€‚ç¬¬ä¸€æ®µä»£è¡¨è¯·æ±‚å‚æ•°å¦‚ä¸‹æ‰€ç¤º")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" QUESTION SECTION:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("www.baidu.com.\t\t\tIN\tA\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("è¿™æ®µä¸ºæŸ¥è¯¢å†…å®¹ã€‚DNS çš„æŸ¥è¯¢å‚æ•°ä¸€èˆ¬æœ‰ 3 ä¸ª")]),s._v(" "),n("ul",[n("li",[s._v("åŸŸåï¼šæœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨(é‚®ä»¶åœ°å€ä¸­ "),n("code",[s._v("@")]),s._v(" åé¢çš„éƒ¨åˆ†)çš„åç§°")]),s._v(" "),n("li",[s._v("Classï¼šåœ¨è®¾ç½® DNS æ–¹æ¡ˆæ—¶ï¼Œäº’è”ç½‘ä¹‹å¤–çš„ç½‘ç»œä¹Ÿè€ƒè™‘åˆ°äº†ï¼Œè€Œ Class å°±æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç»œçš„ï¼Œä¸è¿‡ç°åœ¨åªæœ‰äº’è”ç½‘ï¼Œæ‰€ä»¥å®ƒçš„å€¼æ°¸è¿œéƒ½æ˜¯ä»£è¡¨äº’è”ç½‘çš„ "),n("code",[s._v("IN")])]),s._v(" "),n("li",[s._v("è®°å½•ç±»å‹ï¼šæ ‡è¯†åŸŸåå¯¹åº”ä½•ç§ç±»å‹çš„è®°å½•ã€‚\n"),n("ul",[n("li",[n("code",[s._v("A")]),s._v(" è¡¨ç¤ºåŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚")]),s._v(" "),n("li",[n("code",[s._v("MX")]),s._v(" è¡¨ç¤ºåŸŸåå¯¹åº”çš„æ˜¯é‚®ä»¶æœåŠ¡å™¨ã€‚")]),s._v(" "),n("li",[n("code",[s._v("PTR")]),s._v(" è¡¨ç¤ºæ ¹æ® IP åœ°å€åæŸ¥åŸŸåã€‚")]),s._v(" "),n("li",[n("code",[s._v("CNAME")]),s._v(" è¡¨ç¤ºæŸ¥è¯¢åŸŸåç›¸å…³åˆ«åã€‚")])])])]),s._v(" "),n("p",[s._v("ä½†æ˜¯ï¼Œç»†å¿ƒä¸€çœ‹ä¼šå‘ç°ï¼šè¾“å…¥çš„æ˜æ˜æ˜¯ "),n("code",[s._v("www.baidu.com")]),s._v("ï¼Œå¯æ˜¯å‘½ä»¤é‡Œè§£æçš„åœ°å€å´æ˜¯ "),n("code",[s._v("www.baidu.com.")]),s._v("ã€‚è¿™ä¸ªå¤šå‡ºæ¥çš„ "),n("code",[s._v(".")]),s._v(" åˆæ˜¯å‡ ä¸ªæ„æ€å˜= =")]),s._v(" "),n("p",[s._v("è¿™é‡Œå°±æ¶‰åŠåˆ°äº† DNS çš„åŸŸåè§£æè¿‡ç¨‹äº†ã€‚")]),s._v(" "),n("h3",{attrs:{id:"dns-çš„åŸŸåè§£æè¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dns-çš„åŸŸåè§£æè¿‡ç¨‹"}},[s._v("#")]),s._v(" DNS çš„åŸŸåè§£æè¿‡ç¨‹")]),s._v(" "),n("p",[s._v("æ‰¿ä¸Šå¯ä¸‹ï¼Œæˆ‘ä»¬å…ˆç¼•ç¼•åŸŸåçš„ç»“æ„ã€‚")]),s._v(" "),n("p",[n("code",[s._v("www.baidu.com")]),s._v(" å¯¹åº”çš„çœŸæ­£çš„åŸŸåä¸º "),n("code",[s._v("www.baidu.com.")]),s._v("ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("æœ«å°¾çš„ "),n("code",[s._v(".")]),s._v(" ç§°ä¸º"),n("strong",[s._v("æ ¹åŸŸå")]),s._v("ã€‚"),n("em",[s._v("å› ä¸ºæ¯ä¸ªåŸŸåéƒ½æœ‰æ ¹åŸŸåï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸çœç•¥ã€‚")])]),s._v(" "),n("li",[s._v("æ ¹åŸŸåçš„ä¸‹ä¸€çº§ï¼Œå«åš"),n("strong",[s._v("é¡¶çº§åŸŸå")]),s._v("ï¼ˆtop-level domainï¼Œç¼©å†™ä¸º TLDï¼‰ï¼Œæ¯”å¦‚.comã€.netã€‚")]),s._v(" "),n("li",[s._v("å†ä¸‹ä¸€çº§å«åš"),n("strong",[s._v("æ¬¡çº§åŸŸå")]),s._v("ï¼ˆsecond-level domainï¼Œç¼©å†™ä¸º SLDï¼‰ï¼Œæ¯”å¦‚ www.baidu.com é‡Œé¢çš„ "),n("code",[s._v(".baidu")]),s._v("ï¼Œè¿™ä¸€çº§åŸŸåæ˜¯ç”¨æˆ·å¯ä»¥æ³¨å†Œçš„ã€‚")]),s._v(" "),n("li",[s._v("å†ä¸‹ä¸€çº§æ˜¯"),n("strong",[s._v("ä¸»æœºå")]),s._v("ï¼ˆhostï¼‰ï¼Œæ¯”å¦‚ "),n("code",[s._v("www.baidu.com")]),s._v(" é‡Œé¢çš„ "),n("code",[s._v("www")]),s._v("ï¼Œåˆç§°ä¸º"),n("strong",[s._v("ä¸‰çº§åŸŸå")]),s._v("ï¼Œè¿™æ˜¯ç”¨æˆ·åœ¨è‡ªå·±çš„åŸŸé‡Œé¢ä¸ºæœåŠ¡å™¨åˆ†é…çš„åç§°ï¼Œæ˜¯ç”¨æˆ·å¯ä»¥ä»»æ„åˆ†é…çš„ã€‚")])]),s._v(" "),n("p",[s._v("è§£ææµç¨‹å°±æ˜¯åˆ†çº§æŸ¥è¯¢ï¼")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("å…ˆåœ¨æœ¬æœºçš„ DNS é‡Œå¤´æŸ¥ï¼Œå¦‚æœæœ‰å°±ç›´æ¥è¿”å›ã€‚æœ¬æœº DNS å°±æ˜¯ä¸‹é¢ "),n("code",[s._v("nameserver")]),s._v(" æŒ‡å®š IP å¯¹åº”çš„ DNS æœåŠ¡å™¨")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("sammyne@ubuntu:~$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/resolv.conf \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This file is managed by man:systemd-resolved(8). Do not edit.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This is a dynamic resolv.conf file for connecting local clients to the")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# internal DNS stub resolver of systemd-resolved. This file lists all")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# configured search domains.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# Run "resolvectl status" to see details about the uplink DNS servers')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# currently in use.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Third party programs must not access this file directly, but only through the")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a different way,")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# replace this symlink by a static file or a different symlink.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See man:systemd-resolved.service(8) for details about the supported modes of")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# operation for /etc/resolv.conf.")]),s._v("\n\nnameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.53\noptions edns0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("æœ¬æœº DNS é‡Œå¤´å‘ç°æ²¡æœ‰ï¼Œå°±å»æ ¹æœåŠ¡å™¨é‡ŒæŸ¥ã€‚æ ¹æœåŠ¡å™¨å‘ç°è¿™ä¸ªåŸŸåæ˜¯å±äº "),n("code",[s._v("com")]),s._v(" åŸŸï¼Œå› æ­¤æ ¹åŸŸ DNS æœåŠ¡å™¨ä¼šè¿”å›å®ƒæ‰€ç®¡ç†çš„ "),n("code",[s._v("com")]),s._v(" åŸŸæ‰€å¯¹åº” DNS æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œæ„æ€æ˜¯â€œè™½ç„¶æˆ‘ä¸çŸ¥é“ä½ è¦æŸ¥çš„é‚£ä¸ªåŸŸåçš„åœ°å€ï¼Œä½†ä½ å¯ä»¥å» "),n("code",[s._v("com")]),s._v("åŸŸé—®é—®çœ‹â€")])]),s._v(" "),n("li",[n("p",[s._v("æœ¬æœºçš„ DNS æ¥åˆ°åˆä¼šå‘ "),n("code",[s._v("com")]),s._v(" åŸŸçš„ DNS æœåŠ¡å™¨å‘é€æŸ¥è¯¢æ¶ˆæ¯ã€‚"),n("code",[s._v("com")]),s._v(" åŸŸä¹Ÿæ²¡æœ‰ www.baidu.com è¿™ä¸ªåŸŸåçš„ä¿¡æ¯ã€‚å’Œåˆšæ‰ä¸€æ ·ï¼Œ"),n("code",[s._v("com")]),s._v(" åŸŸæœåŠ¡å™¨ä¼šè¿”å›å®ƒä¸‹é¢çš„ "),n("code",[s._v("baidu.com")]),s._v(" åŸŸçš„ DNS æœåŠ¡å™¨ IP åœ°å€ã€‚")])])]),s._v(" "),n("p",[s._v("ä»¥æ­¤ç±»æ¨ï¼Œåªè¦é‡å¤å‰é¢çš„æ­¥éª¤ï¼Œå°±å¯ä»¥é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°ç›®æ ‡ DNS æœåŠ¡å™¨")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("æ¸©é¦¨æç¤º")]),n("p",[n("code",[s._v("dig +trace www.baidu.com")]),s._v(" å¯ä»¥çœ‹åˆ°è§£æè¿‡ç¨‹ã€‚æœ‰å…´è¶£çš„è¯»è€…ï¼Œè‡ªå·±å®éªŒä¸€ä¸‹ã€‚")])]),n("p",[s._v("æ‰¯äº†é‚£ä¹ˆå¤šä¸œè¥¿ï¼Œæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒæ®µå†…å®¹ï¼Œä¹Ÿå°±æ˜¯å“åº”ä½“çš„éƒ¨åˆ†ï¼å¦‚ä¸‹æ‰€ç¤º")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ANSWER SECTION:\nwww.baidu.com.\t\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("\tIN\tCNAME\twww.a.shifen.com.\nwww.a.shifen.com.\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v("\tIN\tA\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112.80")]),s._v(".248.76\nwww.a.shifen.com.\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v("\tIN\tA\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112.80")]),s._v(".248.75\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å¾ˆæ˜æ˜¾ï¼Œç¬¬ä¸€è¡Œå°±æ˜¯è¯´ "),n("code",[s._v("www.baidu.com.")]),s._v(" æœ‰ä¸€ä¸ªåˆ«åæ˜¯ "),n("code",[s._v("www.a.shifen.com.")]),s._v("ã€‚åé¢å‡ è¡Œå°±æ˜¯ "),n("code",[s._v("www.a.shifen.com.")]),s._v(" çš„çœŸå® IPã€‚")]),s._v(" "),n("p",[s._v("ä¸ºä»€ä¹ˆç™¾åº¦è¦è®¾ä¸€ä¸ªåˆ«ååˆ° "),n("code",[s._v("www.a.shifen.com.")]),s._v(" åœ°å€å‘¢ï¼Ÿ äºæ˜¯ä¹ï¼Œåˆä¸€é“ç»å…¸é¢è¯•é¢˜å‡ºç°")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("ä¸ºä»€ä¹ˆè¦ç”¨ "),n("code",[s._v("CNAME")]),s._v("ï¼Œä¹Ÿå³ä½¿ç”¨ "),n("code",[s._v("CNAME")]),s._v(" çš„å¥½å¤„")])]),n("p",[s._v("å…·ä½“å‚è§ "),n("a",{attrs:{href:"https://www.zhihu.com/question/22916306/answer/26650717",target:"_blank",rel:"noopener noreferrer"}},[s._v("è¿™ä¸ªå›ç­”"),n("OutboundLink")],1),s._v("ã€‚ï¼ˆTODOï¼šå¾…å®Œå…¨ç†è§£åè¡¥å……æ›´è¯¦ç»†çš„è§£é‡Šï¼‰")]),s._v(" "),n("p",[s._v("ç¬¬ä¸€çœ¼è§åˆ°è¿™é¢˜çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯æ–¹ä¾¿ cdn é…ç½®ã€‚å›åˆ°å½“å‰ä¾‹å­ï¼Œå¦‚æœçŒœæµ‹æ­£ç¡®çš„è¯ï¼Œ"),n("code",[s._v("www.a.shifen.com.")]),s._v(" åº”è¯¥æ˜¯ç™¾åº¦çš„ä¸€ä¸ª cdn åœ°å€ã€‚å› æ­¤ï¼Œæˆ‘ç‰¹æ„å» "),n("a",{attrs:{href:"http://icp.chinaz.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç«™é•¿å·¥å…·"),n("OutboundLink")],1),s._v(" æŸ¥äº†åŸŸåå¤‡æ¡ˆè®°å½•ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º")]),s._v(" "),n("p",[n("img",{attrs:{src:a(517),alt:""}})]),s._v(" "),n("p",[s._v("ç„¶è€Œå¥½åƒå¹¶ä¸æ˜¯ï¼ˆå°´å°¬è€Œä¸æ˜¯ç¤¼è²Œçš„å¾®ç¬‘ï¼‰ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),n("p",[s._v("æœ¬æ–‡ç®€è¦ä»‹ç» DNS çš„ä¸€äº›å¸¸è§çŸ¥è¯†ç‚¹ï¼Œä»¥å¤‡æ—¥å¸¸æŸ¥è¯¢å’Œå›é¡¾ã€‚å¦‚æœæœ‰å…¶ä»–å…³äº DNS çš„é—®é¢˜æˆ–æ”¯æŒï¼Œæ¬¢è¿ç•™è¨€åˆ†äº«ã€‚")]),s._v(" "),n("h2",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[s._v("#")]),s._v(" å‚è€ƒæ–‡çŒ®")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/79350395",target:"_blank",rel:"noopener noreferrer"}},[s._v("é¢è¯•å®˜:è®²è®²DNSçš„åŸç†ï¼Ÿ"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);