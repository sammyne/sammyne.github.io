(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{657:function(t,s,a){t.exports=a.p+"assets/img/compilation.3a0acaa3.png"},658:function(t,s,a){t.exports=a.p+"assets/img/virtual-memory-model.389ba05d.png"},659:function(t,s,a){t.exports=a.p+"assets/img/memory-model-with-pseudo-register.22f017de.png"},660:function(t,s,a){t.exports=a.p+"assets/img/func-stack-frame.dfbc45e0.png"},787:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("åŸæ–‡ï¼š"),n("a",{attrs:{href:"https://www.toutiao.com/i6871130035290374668/?tt_from=weixin&utm_campaign=client_share&wxshare_count=1&timestamp=1614597588&app=news_article&utm_source=weixin&utm_medium=toutiao_android&use_new_style=1&req_id=202103011919480101351210213C062CFC&share_token=de697031-cf45-4235-ac39-fce8a6c5f0fc&group_id=6871130035290374668",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸‡å­—è¯¦æ–‡ï¼šGolang æ±‡ç¼–å…¥é—¨çŸ¥è¯†æ€»ç»“ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†"),n("OutboundLink")],1)])]),t._v(" "),n("blockquote",[n("p",[t._v("æœ¬æ–‡ä½¿ç”¨ Go ç‰ˆæœ¬ä¸º 1.16ï¼Œå…·ä½“ç¯å¢ƒæ˜¯åŸºäº golang:1.16-buster èµ·çš„å®¹å™¨ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"_1-ä¸ºä»€ä¹ˆéœ€è¦æ±‡ç¼–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸ºä»€ä¹ˆéœ€è¦æ±‡ç¼–"}},[t._v("#")]),t._v(" 1. ä¸ºä»€ä¹ˆéœ€è¦æ±‡ç¼–")]),t._v(" "),n("p",[t._v("ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œåªæœ‰ 2 ç§ç±»å‹ï¼š0 å’Œ 1ã€‚")]),t._v(" "),n("p",[t._v("è®¡ç®—æœºå·¥ä½œç”±ä¸€ç³»åˆ—æœºå™¨æŒ‡ä»¤é©±åŠ¨ã€‚è¿™äº›æŒ‡ä»¤åˆæ˜¯ä¸€ç»„äºŒè¿›åˆ¶æ•°å­—ï¼Œå…¶å¯¹åº”è®¡ç®—æœºçš„é«˜ä½ç”µå¹³ã€‚è€Œè¿™äº›æœºå™¨æŒ‡ä»¤çš„é›†åˆå°±æ˜¯æœºå™¨è¯­è¨€ï¼Œè¿™äº›æœºå™¨è¯­è¨€åœ¨æœ€åº•å±‚æ˜¯ä¸ç¡¬ä»¶ä¸€ä¸€å¯¹åº”çš„ã€‚")]),t._v(" "),n("p",[t._v("æ˜¾è€Œæ˜“è§ï¼Œ"),n("strong",[t._v("æœºå™¨æŒ‡ä»¤æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºç‚¹ï¼šå¯é˜…è¯»æ€§å¤ªå·®")]),t._v("ï¼ˆææ€•ä¹Ÿåªæœ‰å¤©æ‰å’Œç–¯å­æ‰æœ‰èƒ½åŠ›æŠŠæ§å¾—äº†ï¼‰ã€‚")]),t._v(" "),n("p",[t._v("ä¸ºäº†è§£å†³å¯è¯»æ€§çš„é—®é¢˜ä»¥åŠä»£ç ç¼–è¾‘çš„éœ€æ±‚ï¼Œæœ€æ¥è¿‘æœºå™¨çš„è¯­è¨€åº”è¿è€Œç”Ÿï¼šæ±‡ç¼–è¯­è¨€ï¼ˆæ±‡ç¼–è¯­è¨€æ›´åƒä¸€ç§åŠ©è®°ç¬¦ï¼Œè¿™äº›äººä»¬å®¹æ˜“è®°ä½çš„æ¯ä¸€æ¡åŠ©è®°ç¬¦éƒ½æ˜ å°„ç€ä¸€æ¡ä¸å®¹æ˜“è®°ä½çš„ç”± 0ã€1 ç»„æˆçš„æœºå™¨æŒ‡ä»¤ã€‚å¯ç±»æ¯”åŸŸåä¸ IP åœ°å€çš„å…³ç³»ï¼‰ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_1-1-ç¨‹åºçš„ç¼–è¯‘è¿‡ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ç¨‹åºçš„ç¼–è¯‘è¿‡ç¨‹"}},[t._v("#")]),t._v(" 1.1 ç¨‹åºçš„ç¼–è¯‘è¿‡ç¨‹")]),t._v(" "),n("p",[t._v("ä»¥ C è¯­è¨€ä¸ºä¾‹æ¥è¯´ï¼Œä» hello.c çš„æºç æ–‡ä»¶åˆ° hello å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç»è¿‡ç¼–è¯‘å™¨å¤„ç†ï¼Œå¤§è‡´åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(657),alt:"C ç¨‹åºç¼–è¯‘è¿‡ç¨‹"}})]),t._v(" "),n("p",[t._v("ç¼–è¯‘å™¨åœ¨ä¸åŒçš„é˜¶æ®µä¼šåšä¸åŒçš„äº‹æƒ…ï¼Œä½†æ˜¯æœ‰ä¸€æ­¥æ˜¯å¯ä»¥ç¡®å®šçš„ï¼šæºç ä¼šè¢«ç¼–è¯‘æˆæ±‡ç¼–ï¼Œæœ€åæ‰æ˜¯äºŒè¿›åˆ¶ã€‚")]),t._v(" "),n("h2",{attrs:{id:"_2-ç¨‹åºä¸è¿›ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¨‹åºä¸è¿›ç¨‹"}},[t._v("#")]),t._v(" 2. ç¨‹åºä¸è¿›ç¨‹")]),t._v(" "),n("p",[t._v("æºç ç»è¿‡ç¼–è¯‘ä¹‹åï¼Œå¾—åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚æ–‡ä»¶è¿™ä¸¤ä¸ªå­—ä¹Ÿå°±è¡¨æ˜ï¼Œç›®å‰å¾—åˆ°çš„è¿™ä¸ªæ–‡ä»¶è·Ÿå…¶ä»–æ–‡ä»¶å¯¹æ¯”ï¼Œé™¤äº†å…·æœ‰ä¸€å®šçš„æ ¼å¼ï¼ˆå¦‚ Linux çš„ ELF æ ¼å¼ï¼Œå³"),n("strong",[t._v("å¯è¿è¡Œå¯é“¾æ¥")]),t._v("ï¼ˆExecutable Linkable Formatï¼‰ï¼‰çš„äºŒè¿›åˆ¶ç»„æˆï¼Œå¹¶æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚")]),t._v(" "),n("p",[t._v("Linux çš„æ–‡ä»¶ç±»å‹å¤§è‡´åˆ†ä¸º 7 ç§ï¼š")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"right"}},[t._v("æ ‡è¯†ç¬¦")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("ç±»å‹")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("b")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å—è®¾å¤‡æ–‡ä»¶")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("c")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("å­—ç¬¦è®¾å¤‡æ–‡ä»¶")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("d")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç›®å½•")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("-")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("æ™®é€šæ–‡ä»¶")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("l")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("é“¾æ¥")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("s")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("socket")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"right"}},[n("code",[t._v("p")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("ç®¡é“")])])])]),t._v(" "),n("p",[t._v("å…¶ä¸­æ ‡è¯†ç¬¦ä¸€åˆ—çš„ç¬¦å·ä¸º "),n("code",[t._v("ls")]),t._v(" å‘½ä»¤åˆ—å‡ºæ–‡ä»¶ä¿¡æ¯æƒé™ä¿¡æ¯åˆ—ï¼ˆå¦‚ä¸‹ go.mod æ–‡ä»¶çš„ "),n("code",[t._v("-rw-r--r--")]),t._v("ï¼‰çš„ç¬¬ 1 ä¸ªå­—ç¬¦")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ls -l")]),t._v("\ntotal "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1992")]),t._v("\n-rw-r--r-- "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" Mar  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 08:08 go.mod\n-rwxr-xr-x "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2027872")]),t._v(" Mar  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 08:08 hello-world\n-rw-r--r-- "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v(" Mar  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 08:08 main.go\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("é€šè¿‡ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ hello-world å’Œæºç æ–‡ä»¶ main.go éƒ½æ˜¯æ™®é€šæ–‡ä»¶ã€‚ï¼ˆåœ¨ Unix ä¸­æœ‰ä¸€å¥å¾ˆç»å…¸çš„è¯ï¼šä¸€åˆ‡çš†æ–‡ä»¶ï¼‰ã€‚")]),t._v(" "),n("p",[t._v("é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("ä»€ä¹ˆæ˜¯ç¨‹åºï¼Ÿ")]),t._v(" "),n("li",[t._v("ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ")])]),t._v(" "),n("h3",{attrs:{id:"_2-1-ç¨‹åº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ç¨‹åº"}},[t._v("#")]),t._v(" 2.1 ç¨‹åº")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç»´åŸºç™¾ç§‘"),n("OutboundLink")],1),t._v(" å‘Šè¯‰æˆ‘ä»¬ï¼šç¨‹åºæ˜¯æŒ‡ä¸€ç»„æŒ‡ç¤ºè®¡ç®—æœºæˆ–å…¶ä»–å…·æœ‰æ¶ˆæ¯å¤„ç†èƒ½åŠ›è®¾å¤‡æ¯ä¸€æ­¥åŠ¨ä½œçš„æŒ‡ä»¤ï¼Œé€šå¸¸ç”¨æŸç§ç¨‹åºè®¾è®¡è¯­è¨€ç¼–å†™ï¼Œè¿è¡ŒäºæŸç§ç›®æ ‡ä½“ç³»ç»“æ„ä¸Šã€‚")]),t._v(" "),n("p",[t._v("ä»æŸä¸ªå±‚é¢æ¥çœ‹ï¼Œå¯ä»¥æŠŠç¨‹åºåˆ†ä¸ºé™æ€ç¨‹åºå’ŒåŠ¨æ€ç¨‹åºã€‚")]),t._v(" "),n("ul",[n("li",[t._v("é™æ€ç¨‹åºï¼šå•çº¯çš„æŒ‡å…·æœ‰ä¸€å®šæ ¼å¼çš„å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚")]),t._v(" "),n("li",[t._v("åŠ¨æ€ç¨‹åºï¼šé™æ€å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶è¢«åŠ è½½åˆ°å†…å­˜ä¹‹åçš„ä¸€ç§è¿è¡Œæ—¶æ¨¡å‹ï¼ˆåˆç§°ä¸ºè¿›ç¨‹ï¼‰ã€‚")])]),t._v(" "),n("h3",{attrs:{id:"_2-2-è¿›ç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-è¿›ç¨‹"}},[t._v("#")]),t._v(" 2.2 è¿›ç¨‹")]),t._v(" "),n("p",[t._v("é¦–å…ˆè¦çŸ¥é“çš„æ˜¯ï¼Œ"),n("strong",[t._v("è¿›ç¨‹æ˜¯åˆ†é…ç³»ç»Ÿèµ„æºçš„æœ€å°å•ä½ï¼Œçº¿ç¨‹ï¼ˆå¸¦æœ‰æ—¶é—´ç‰‡çš„å‡½æ•°ï¼‰æ˜¯ç³»ç»Ÿè°ƒåº¦çš„æœ€å°å•ä½")]),t._v("ã€‚è¿›ç¨‹åŒ…å«çº¿ç¨‹ï¼Œçº¿ç¨‹æ‰€å±äºè¿›ç¨‹ã€‚")]),t._v(" "),n("p",[t._v("åˆ›å»ºè¿›ç¨‹ä¸€èˆ¬ä½¿ç”¨ "),n("code",[t._v("fork")]),t._v(" æ–¹æ³•ï¼ˆé€šå¸¸ä¼šæœ‰ä¸ªæ‹‰èµ·ç¨‹åºï¼Œå…ˆ "),n("code",[t._v("fork")]),t._v(" è‡ªèº«ç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ã€‚ç„¶ååœ¨è¯¥å­è¿›ç¨‹ä¸­é€šè¿‡ "),n("code",[t._v("exec")]),t._v(" å‡½æ•°æŠŠå¯¹åº”ç¨‹åºåŠ è½½è¿›æ¥ï¼Œè¿›è€Œå¯åŠ¨ç›®æ ‡è¿›ç¨‹ã€‚å½“ç„¶ï¼Œå®é™…ä¸Šè¦å¤æ‚å¾—å¤šï¼‰ï¼Œè€Œåˆ›å»ºçº¿ç¨‹åˆ™æ˜¯ä½¿ç”¨ pthread çº¿ç¨‹åº“ã€‚")]),t._v(" "),n("p",[t._v("ä»¥ 32 ä½ Linux æ“ä½œç³»ç»Ÿä¸ºä¾‹ï¼Œè¿›ç¨‹ç»å…¸çš„è™šæ‹Ÿå†…å­˜ç»“æ„æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(658),alt:"è™šæ‹Ÿå†…å­˜ç»“æ„æ¨¡å‹"}})]),t._v(" "),n("p",[t._v("å…¶ä¸­ï¼Œæœ‰ä¸¤å¤„ç»“æ„æ˜¯é™æ€ç¨‹åºæ‰€ä¸å…·æœ‰çš„ï¼Œé‚£å°±æ˜¯è¿è¡Œæ—¶å †ï¼ˆheapï¼‰ä¸è¿è¡Œæ—¶æ ˆï¼ˆstackï¼‰ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("è¿è¡Œæ—¶å †ä»ä½åœ°å€å‘é«˜åœ°å€å¢é•¿")]),t._v("ï¼Œç”³è¯·çš„å†…å­˜ç©ºé—´éœ€è¦ç¨‹åºå‘˜è‡ªå·±æˆ–è€…ç”±åƒåœ¾å›æ”¶ï¼ˆGCï¼‰é‡Šæ”¾ã€‚è¿è¡Œæ—¶æ ˆä»é«˜åœ°å€å‘ä½åœ°å€å¢é•¿ï¼Œå†…å­˜ç©ºé—´åœ¨å½“å‰æ ˆæ¡¢è°ƒç”¨ç»“æŸä¹‹åè‡ªåŠ¨é‡Šæ”¾(å¹¶ä¸æ˜¯æ¸…é™¤å…¶æ‰€å ç”¨å†…å­˜ä¸­æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡æ ˆé¡¶æŒ‡é’ˆ "),n("code",[t._v("SP")]),t._v(" çš„ç§»åŠ¨æ¥æ ‡è¯†å“ªäº›å†…å­˜æ˜¯æ­£åœ¨ä½¿ç”¨çš„)ã€‚")]),t._v(" "),n("h2",{attrs:{id:"_3-go-æ±‡ç¼–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-go-æ±‡ç¼–"}},[t._v("#")]),t._v(" 3. Go æ±‡ç¼–")]),t._v(" "),n("p",[t._v("å¯¹äº Go ç¼–è¯‘å™¨è€Œè¨€ï¼Œå…¶è¾“å‡ºçš„ç»“æœæ˜¯ä¸€ç§æŠ½è±¡å¯ç§»æ¤çš„æ±‡ç¼–ä»£ç ï¼Œè¿™ç§æ±‡ç¼–ï¼ˆGo çš„æ±‡ç¼–æ˜¯åŸºäº Plan9 çš„æ±‡ç¼–ï¼‰å¹¶ä¸å¯¹åº”æŸç§çœŸå®çš„ç¡¬ä»¶æ¶æ„ã€‚Go çš„æ±‡ç¼–å™¨ä¼šåŸºäºè¿™ç§ä¼ªæ±‡ç¼–ä¸ºç›®æ ‡ç¡¬ä»¶ç”Ÿæˆå…·ä½“çš„æœºå™¨æŒ‡ä»¤ã€‚")]),t._v(" "),n("p",[t._v("ä¼ªæ±‡ç¼–è¿™ä¸€ä¸ªé¢å¤–å±‚å¯ä»¥å¸¦æ¥å¾ˆå¤šå¥½å¤„ï¼Œæœ€ä¸»è¦çš„ä¸€ç‚¹æ˜¯æ–¹ä¾¿å°† Go ç§»æ¤åˆ°æ–°çš„æ¶æ„ã€‚")]),t._v(" "),n("p",[t._v("ç›¸å…³çš„ä¿¡æ¯å¯ä»¥å‚è€ƒ Rob Pike çš„ "),n("a",{attrs:{href:"https://www.youtube.com/watch?v=KINIAgRpkDA",target:"_blank",rel:"noopener noreferrer"}},[t._v("The Design of the Go Assembler"),n("OutboundLink")],1),t._v("ï¼ˆéœ€è¦ç¿»å¢™ ğŸ˜¦ï¼‰ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("ä»¥ä¸‹ä¸‰æ®µè¯‘è‡ª Go çš„å®˜æ–¹æ–‡æ¡£ "),n("a",{attrs:{href:"https://golang.org/doc/asm",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Quick Guide to Go's Assembler"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("äº†è§£ Go çš„æ±‡ç¼–å™¨æœ€é‡è¦çš„æ˜¯è¦çŸ¥é“ Go çš„æ±‡ç¼–å™¨ä¸æ˜¯å¯¹åº•å±‚æœºå™¨çš„ç›´æ¥è¡¨ç¤ºï¼Œå³ Go çš„æ±‡ç¼–å™¨æ²¡æœ‰ç›´æ¥ä½¿ç”¨ç›®æ ‡æœºå™¨çš„æ±‡ç¼–æŒ‡ä»¤ã€‚Go æ±‡ç¼–å™¨æ‰€ç”¨çš„æŒ‡ä»¤ï¼Œä¸€éƒ¨åˆ†ä¸ç›®æ ‡æœºå™¨çš„æŒ‡ä»¤ä¸€ä¸€å¯¹åº”ï¼Œè€Œå¦å¤–ä¸€éƒ¨åˆ†åˆ™ä¸æ˜¯ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨å¥—ä»¶ä¸éœ€è¦æ±‡ç¼–å™¨ç›´æ¥å‚ä¸å¸¸è§„çš„ç¼–è¯‘è¿‡ç¨‹ã€‚")]),t._v(" "),n("p",[t._v("ç›¸åï¼Œç¼–è¯‘å™¨ä½¿ç”¨äº†ä¸€ç§åŠæŠ½è±¡çš„æŒ‡ä»¤é›†ï¼Œå¹¶ä¸”éƒ¨åˆ†æŒ‡ä»¤æ˜¯åœ¨ä»£ç ç”Ÿæˆåæ‰è¢«é€‰æ‹©çš„ã€‚æ±‡ç¼–å™¨åŸºäºè¿™ç§åŠæŠ½è±¡çš„å½¢å¼å·¥ä½œï¼Œæ‰€ä»¥è™½ç„¶ä½ çœ‹åˆ°çš„æ˜¯ä¸€æ¡ "),n("code",[t._v("MOV")]),t._v(" æŒ‡ä»¤ï¼Œä½†æ˜¯å·¥å…·é“¾é’ˆå¯¹è¿™æ¡æŒ‡ä»¤å®é™…ç”Ÿæˆçš„å¯èƒ½å®Œå…¨ä¸æ˜¯ä¸€ä¸ªç§»åŠ¨æŒ‡ä»¤ï¼Œä¹Ÿè®¸ä¼šæ˜¯æ¸…é™¤æˆ–è€…åŠ è½½ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç²¾ç¡®å¯¹åº”ç›®æ ‡å¹³å°ä¸ŠåŒåçš„æŒ‡ä»¤ã€‚"),n("strong",[t._v("æ¦‚æ‹¬æ¥è¯´ï¼Œç‰¹å®šäºæœºå™¨çš„æŒ‡ä»¤ä¼šä»¥ä»–ä»¬çš„æœ¬å°Šå‡ºç°ï¼Œç„¶è€Œå¯¹äºä¸€äº›é€šç”¨çš„æ“ä½œï¼Œå¦‚å†…å­˜çš„ç§»åŠ¨ä»¥åŠå­ç¨‹åºçš„è°ƒç”¨ä»¥åŠè¿”å›é€šå¸¸éƒ½åšäº†æŠ½è±¡")]),t._v("ã€‚ç»†èŠ‚å› æ¶æ„ä¸åŒè€Œä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¯¹è¿™æ ·çš„ä¸ç²¾ç¡®æ€§è¡¨ç¤ºæ­‰æ„ï¼Œæƒ…å†µå¹¶ä¸æ˜ç¡®ã€‚")]),t._v(" "),n("p",[t._v("æ±‡ç¼–å™¨ç¨‹åºçš„å·¥ä½œæ˜¯å¯¹è¿™æ ·åŠæŠ½è±¡æŒ‡ä»¤é›†è¿›è¡Œè§£æå¹¶å°†å…¶è½¬å˜ä¸ºå¯ä»¥è¾“å…¥åˆ°é“¾æ¥å™¨çš„æŒ‡ä»¤ã€‚")]),t._v(" "),n("p",[t._v("Go æ±‡ç¼–ä½¿ç”¨çš„æ˜¯ "),n("strong",[t._v("caller-saveæ¨¡å¼")]),t._v("ï¼Œè¢«è°ƒç”¨å‡½æ•°çš„å…¥å‚å‚æ•°ã€è¿”å›å€¼éƒ½ç”±è°ƒç”¨è€…ç»´æŠ¤ã€‚å› æ­¤ï¼Œå½“éœ€è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œéœ€è¦å…ˆåšå¥½è¿™äº›å‡†å¤‡å·¥ä½œï¼Œæ‰è°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°ï¼Œå¦å¤–è¿™äº›éƒ½éœ€è¦è¿›è¡Œå†…å­˜å¯¹é½ï¼Œå¯¹é½çš„å¤§å°æ˜¯ "),n("code",[t._v("sizeof(uintptr)")]),t._v("ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_3-1-å‡ ä¸ªæ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-å‡ ä¸ªæ¦‚å¿µ"}},[t._v("#")]),t._v(" 3.1 å‡ ä¸ªæ¦‚å¿µ")]),t._v(" "),n("p",[t._v("åœ¨æ·±å…¥äº†è§£ Go æ±‡ç¼–ä¹‹å‰ï¼Œéœ€è¦çŸ¥é“çš„å‡ ä¸ªæ¦‚å¿µï¼š")]),t._v(" "),n("ul",[n("li",[t._v("æ ˆï¼šè¿›ç¨‹ã€çº¿ç¨‹ã€goroutine éƒ½æœ‰è‡ªå·±çš„è°ƒç”¨æ ˆï¼Œå…ˆè¿›åå‡ºï¼ˆFILOï¼‰")]),t._v(" "),n("li",[t._v("æ ˆå¸§ï¼šå¯ä»¥ç†è§£æ˜¯å‡½æ•°è°ƒç”¨æ—¶ï¼Œåœ¨æ ˆä¸Šä¸ºå‡½æ•°æ‰€åˆ†é…çš„å†…å­˜åŒºåŸŸ")]),t._v(" "),n("li",[t._v("è°ƒç”¨è€…ï¼šcallerï¼Œæ¯”å¦‚ï¼šA å‡½æ•°è°ƒç”¨äº† B å‡½æ•°ï¼Œé‚£ä¹ˆ A å°±æ˜¯è°ƒç”¨è€…")]),t._v(" "),n("li",[t._v("è¢«è°ƒè€…ï¼šcalleeï¼Œæ¯”å¦‚ï¼šA å‡½æ•°è°ƒç”¨äº† B å‡½æ•°ï¼Œé‚£ä¹ˆ B å°±æ˜¯è¢«è°ƒè€…")])]),t._v(" "),n("h3",{attrs:{id:"_3-2-go-çš„æ ¸å¿ƒå¯„å­˜å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-go-çš„æ ¸å¿ƒå¯„å­˜å™¨"}},[t._v("#")]),t._v(" 3.2 Go çš„æ ¸å¿ƒå¯„å­˜å™¨")]),t._v(" "),n("p",[t._v("go æ±‡ç¼–ä¸­æœ‰ 4 ä¸ªæ ¸å¿ƒçš„ä¼ªå¯„å­˜å™¨ï¼Œè¿™ 4 ä¸ªå¯„å­˜å™¨æ˜¯ç¼–è¯‘å™¨èµ·åˆ°ç»´æŠ¤ä¸Šä¸‹æ–‡ã€ç‰¹æ®Šæ ‡è¯†ç­‰ä½œç”¨ï¼š")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("ç®€ç§°")]),t._v(" "),n("th",[t._v("å…¨ç§°")]),t._v(" "),n("th",[t._v("ä½œç”¨")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("SB")]),t._v(" "),n("td",[t._v("Static Base Pointer")]),t._v(" "),n("td",[t._v("å…¨å±€å˜é‡/å˜é‡")])]),t._v(" "),n("tr",[n("td",[t._v("FP")]),t._v(" "),n("td",[t._v("Frame Pointer")]),t._v(" "),n("td",[t._v("å®å‚å’Œå±€éƒ¨å˜é‡")])]),t._v(" "),n("tr",[n("td",[t._v("PC")]),t._v(" "),n("td",[t._v("Program counter")]),t._v(" "),n("td",[t._v("è·³è½¬å’Œåˆ†æ”¯")])]),t._v(" "),n("tr",[n("td",[t._v("SP")]),t._v(" "),n("td",[t._v("Stack Pointer")]),t._v(" "),n("td",[t._v("æ ˆé¡¶")])])])]),t._v(" "),n("ul",[n("li",[t._v("FPï¼šä½¿ç”¨å¦‚ "),n("code",[t._v("symbol+offset(FP)")]),t._v(" çš„æ–¹å¼ï¼Œå¼•ç”¨ callee å‡½æ•°çš„å…¥å‚å‚æ•°ã€‚ä¾‹å¦‚ "),n("code",[t._v("arg0+0(FP)")]),t._v("ï¼Œ"),n("code",[t._v("arg1+8(FP)")]),t._v("ï¼Œä½¿ç”¨ FP å¿…é¡»åŠ  "),n("code",[t._v("symbol")]),t._v("ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ç¼–è¯‘ï¼ˆä»æ±‡ç¼–å±‚é¢æ¥çœ‹ï¼Œ"),n("code",[t._v("symbol")]),t._v(" æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œ"),n("strong",[t._v("åŠ  "),n("code",[t._v("symbol")]),t._v(" ä¸»è¦æ˜¯ä¸ºäº†æå‡ä»£ç å¯è¯»æ€§")]),t._v("ï¼‰ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¾€å¾€åœ¨ç¼–å†™ go æ±‡ç¼–ä»£ç æ—¶ï¼Œè¦ç«™åœ¨ callee çš„è§’åº¦æ¥çœ‹ FPã€‚åœ¨ callee çœ‹æ¥ï¼ŒFP æŒ‡å‘çš„æ˜¯ caller è°ƒç”¨ callee æ—¶ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®ã€‚å‡å¦‚å½“å‰çš„ callee å‡½æ•°æ˜¯ "),n("code",[t._v("add")]),t._v("ï¼Œåœ¨  "),n("code",[t._v("add")]),t._v(" çš„ä»£ç å¼•ç”¨ FPï¼Œè¯¥ FP æŒ‡å‘çš„ä½ç½®ä¸åœ¨ callee çš„æ ˆå¸§ï¼ˆstack frameï¼‰ä¹‹å†…ã€‚è€Œæ˜¯åœ¨ caller çš„æ ˆå¸§ï¼ŒæŒ‡å‘è°ƒç”¨ "),n("code",[t._v("add")]),t._v(" å‡½æ•°æ—¶ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®ï¼Œç»å¸¸åœ¨ callee ä¸­ç”¨ "),n("code",[t._v("symbol+offset(FP)")]),t._v(" æ¥è·å–å…¥å‚çš„å‚æ•°å€¼ã€‚")]),t._v(" "),n("li",[t._v("SBï¼šå…¨å±€é™æ€åŸºæŒ‡é’ˆï¼Œä¸€èˆ¬ç”¨åœ¨å£°æ˜å‡½æ•°ã€å…¨å±€å˜é‡ä¸­ã€‚")]),t._v(" "),n("li",[t._v("SPï¼šè¯¥å¯„å­˜å™¨ä¹Ÿæ˜¯æœ€å…·æœ‰è¿·æƒ‘æ€§çš„å¯„å­˜å™¨ï¼Œå› ä¸ºä¼šæœ‰"),n("strong",[t._v("ä¼ª SP å¯„å­˜å™¨")]),t._v("å’Œ"),n("strong",[t._v("ç¡¬ä»¶ SP å¯„å­˜å™¨")]),t._v("ä¹‹åˆ†ã€‚Plan9 çš„è¿™ä¸ªä¼ª SP å¯„å­˜å™¨æŒ‡å‘å½“å‰æ ˆå¸§ç¬¬ä¸€ä¸ªå±€éƒ¨å˜é‡çš„ç»“æŸä½ç½®ï¼ˆä¸ºä»€ä¹ˆè¯´æ˜¯ç»“æŸä½ç½®ï¼Œå¯ä»¥ç»“åˆä¸‹é¢å¯„å­˜å™¨å†…å­˜å¸ƒå±€å›¾æ¥çœ‹ï¼‰ï¼Œä½¿ç”¨å½¢å¦‚ "),n("code",[t._v("symbol+offset(SP)")]),t._v(" çš„æ–¹å¼ï¼Œå¼•ç”¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚"),n("code",[t._v("offset")]),t._v(" çš„åˆæ³•å–å€¼æ˜¯ "),n("code",[t._v("[-framesize, 0)")]),t._v("ï¼Œæ³¨æ„æ˜¯ä¸ªå·¦é—­å³å¼€çš„åŒºé—´ã€‚å‡å¦‚å±€éƒ¨å˜é‡éƒ½æ˜¯ 8 å­—èŠ‚ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå±€éƒ¨å˜é‡å°±å¯ä»¥ç”¨ "),n("code",[t._v("localvar0-8(SP)")]),t._v(" æ¥è¡¨ç¤ºã€‚ä¸ç¡¬ä»¶å¯„å­˜å™¨ SP æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼Œåœ¨æ ˆå¸§ size ä¸º 0 çš„æƒ…å†µä¸‹ï¼Œä¼ªå¯„å­˜å™¨ SP å’Œç¡¬ä»¶å¯„å­˜å™¨ SP æŒ‡å‘åŒä¸€ä½ç½®ã€‚æ‰‹å†™æ±‡ç¼–ä»£ç æ—¶ï¼Œå¦‚æœæ˜¯ "),n("code",[t._v("symbol+offset(SP)")]),t._v(" å½¢å¼ï¼Œåˆ™è¡¨ç¤ºä¼ªå¯„å­˜å™¨ SPã€‚å¦‚æœæ˜¯ "),n("code",[t._v("offset(SP)")]),t._v(" åˆ™è¡¨ç¤ºç¡¬ä»¶å¯„å­˜å™¨ SPã€‚\n"),n("ul",[n("li",[t._v("åŠ¡å¿…æ³¨æ„ï¼šå¯¹äºç¼–è¯‘è¾“å‡ºï¼ˆ"),n("code",[t._v("go tool compile -S")]),t._v("/"),n("code",[t._v("go tool objdump")]),t._v("ï¼‰çš„ä»£ç æ¥è®²ï¼Œæ‰€æœ‰çš„ SP éƒ½æ˜¯ç¡¬ä»¶ SP å¯„å­˜å™¨ï¼Œæ— è®ºæ˜¯å¦å¸¦ "),n("code",[t._v("symbol")]),t._v("ï¼ˆè¿™ä¸€ç‚¹éå¸¸å…·æœ‰è¿·æƒ‘æ€§ï¼Œéœ€è¦æ…¢æ…¢ç†è§£ã€‚å¾€å¾€åœ¨åˆ†æç¼–è¯‘è¾“å‡ºçš„æ±‡ç¼–æ—¶ï¼Œçœ‹åˆ°çš„å°±æ˜¯ç¡¬ä»¶ SP å¯„å­˜å™¨ï¼‰ã€‚")])])]),t._v(" "),n("li",[t._v("PCï¼šå®é™…ä¸Šå°±æ˜¯åœ¨ä½“ç³»ç»“æ„ä¸­å¸¸è§çš„ pc å¯„å­˜å™¨ã€‚åœ¨ x86 å¹³å°ä¸‹å¯¹åº” ip å¯„å­˜å™¨ï¼Œamd64 ä¸Šåˆ™æ˜¯ ripã€‚é™¤äº†ä¸ªåˆ«è·³è½¬ä¹‹å¤–ï¼Œæ‰‹å†™ Plan9 æ±‡ç¼–ä»£ç æ—¶ï¼Œå¾ˆå°‘ç”¨åˆ° PC å¯„å­˜å™¨ã€‚")])]),t._v(" "),n("p",[t._v("è¿˜æœ‰ä¸€ä¸ªåç»­éƒ¨åˆ†ä¼šç”¨åˆ°çš„ä¼ªå¯„å­˜å™¨ BPï¼šæŒ‡å‘å½“å‰æ ˆå¸§çš„"),n("strong",[t._v("æ ˆåº•")]),t._v("ï¼ˆSP æŒ‡å‘å½“å‰æ ˆå¸§çš„"),n("strong",[t._v("æ ˆé¡¶")]),t._v("ï¼‰ï¼Œå‡½æ•°æ ˆçš„èµ·å§‹ä½ç½®ï¼ˆGo ç¼–è¯‘å™¨ä¼šå°†å‡½æ•°æ ˆç©ºé—´è‡ªåŠ¨åŠ  8ï¼Œç”¨äºå­˜å‚¨ BP å¯„å­˜å™¨ï¼Œè·³è¿‡è¿™ 8 å­—èŠ‚åæ‰æ˜¯å‡½æ•°æ ˆä¸Šå±€éƒ¨å˜é‡çš„å†…å­˜ï¼‰ã€‚")]),t._v(" "),n("p",[t._v("é€šè¿‡ä¸Šé¢çš„è®²è§£ï¼Œå¸Œæœ›çœ‹å®˜èƒ½å¤Ÿå¯¹ 4 ä¸ªæ ¸å¿ƒå¯„å­˜å™¨çš„åŒºåˆ«æœ‰äº†ä¸€å®šçš„è®¤è¯†ï¼ˆæˆ–è€…æ˜¯æ›´åŠ çš„è¿·æƒ‘ã€ä¸€å¤´é›¾æ°´ï¼‰ã€‚éœ€è¦ç•™æ„çš„æ˜¯ï¼šåˆ†æç¼–è¯‘è¾“å‡ºçš„æ±‡ç¼–ä»£ç æ—¶ï¼Œè¦é‡ç‚¹çœ‹ SP å’Œ SB å¯„å­˜å™¨ï¼ˆFP å¯„å­˜å™¨åœ¨è¿™é‡Œæ˜¯çœ‹ä¸åˆ°çš„ï¼‰ã€‚æ‰‹å†™æ±‡ç¼–ä»£ç æ—¶ï¼Œåˆ™è¦é‡ç‚¹çœ‹ FP å’Œ SP å¯„å­˜å™¨ã€‚")]),t._v(" "),n("h4",{attrs:{id:"_3-2-1-ä¼ªå¯„å­˜å™¨çš„å†…å­˜æ¨¡å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-ä¼ªå¯„å­˜å™¨çš„å†…å­˜æ¨¡å‹"}},[t._v("#")]),t._v(" 3.2.1 ä¼ªå¯„å­˜å™¨çš„å†…å­˜æ¨¡å‹")]),t._v(" "),n("p",[t._v("ä¸‹å›¾æè¿°äº†æ ˆæ¡¢ä¸å„ä¸ªå¯„å­˜å™¨çš„å†…å­˜å…³ç³»æ¨¡å‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯è¦ç«™åœ¨ callee çš„è§’åº¦æ¥çœ‹ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(659),alt:""}})]),t._v(" "),n("p",[t._v("æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼š"),n("code",[t._v("return addr")]),t._v(" æ˜¯åœ¨ caller çš„æ ˆä¸Šçš„ï¼Œä¸è¿‡å¾€æ ˆä¸Šæ’ "),n("code",[t._v("return addr")]),t._v(" çš„è¿‡ç¨‹æ˜¯ç”± "),n("code",[t._v("CALL")]),t._v(" æŒ‡ä»¤å®Œæˆçš„ï¼ˆåœ¨åˆ†ææ±‡ç¼–æ—¶ï¼Œæ˜¯çœ‹ä¸åˆ°å…³äº addr ç›¸å…³ç©ºé—´ä¿¡æ¯çš„ã€‚åœ¨åˆ†é…æ ˆç©ºé—´æ—¶ï¼Œaddr æ‰€å ç”¨ç©ºé—´å¤§å°ä¸åŒ…å«åœ¨æ ˆå¸§å†…ï¼‰ã€‚")]),t._v(" "),n("p",[t._v("åœ¨ AMD64 ç¯å¢ƒï¼Œä¼ª PC å¯„å­˜å™¨å…¶å®æ˜¯ IP æŒ‡ä»¤è®¡æ•°å™¨å¯„å­˜å™¨çš„åˆ«åã€‚ä¼ª FP å¯„å­˜å™¨å¯¹åº”çš„æ˜¯ caller å‡½æ•°çš„å¸§æŒ‡é’ˆï¼Œä¸€èˆ¬ç”¨æ¥è®¿é—® callee å‡½æ•°çš„å…¥å‚å‚æ•°å’Œè¿”å›å€¼ã€‚ä¼ª SP æ ˆæŒ‡é’ˆå¯¹åº”çš„æ˜¯å½“å‰ callee å‡½æ•°æ ˆå¸§çš„åº•éƒ¨ï¼ˆä¸åŒ…æ‹¬å‚æ•°å’Œè¿”å›å€¼éƒ¨åˆ†ï¼‰ï¼Œä¸€èˆ¬ç”¨äºå®šä½å±€éƒ¨å˜é‡ã€‚ä¼ª SP æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å¯„å­˜å™¨ï¼Œå› ä¸ºè¿˜å­˜åœ¨ä¸€ä¸ªåŒåçš„ SP çœŸå¯„å­˜å™¨ï¼ŒçœŸ SP å¯„å­˜å™¨å¯¹åº”æ ˆçš„é¡¶éƒ¨ã€‚")]),t._v(" "),n("p",[t._v("ç¼–å†™ Go æ±‡ç¼–éœ€è¦åŒºåˆ†ä¼ªå¯„å­˜å™¨å’ŒçœŸå¯„å­˜å™¨çš„æ—¶å€™åªéœ€è¦è®°ä½ä¸€ç‚¹ï¼š"),n("strong",[t._v("ä¼ªå¯„å­˜å™¨ä¸€èˆ¬éœ€è¦ä¸€ä¸ªæ ‡è¯†ç¬¦å’Œåç§»é‡ä¸ºå‰ç¼€ï¼Œå¦‚æœæ²¡æœ‰æ ‡è¯†ç¬¦å‰ç¼€åˆ™æ˜¯çœŸå¯„å­˜å™¨")]),t._v("ã€‚æ¯”å¦‚ "),n("code",[t._v("(SP)")]),t._v("ã€"),n("code",[t._v("+8(SP)")]),t._v("æ²¡æœ‰æ ‡è¯†ç¬¦å‰ç¼€ä¸ºçœŸ SP å¯„å­˜å™¨ï¼Œè€Œ "),n("code",[t._v("a(SP)")]),t._v("ã€"),n("code",[t._v("b+8(SP)")]),t._v("æœ‰æ ‡è¯†ç¬¦ä¸ºå‰ç¼€è¡¨ç¤ºä¼ªå¯„å­˜å™¨ã€‚")]),t._v(" "),n("h4",{attrs:{id:"_3-2-2-å‡ ç‚¹è¯´æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-å‡ ç‚¹è¯´æ˜"}},[t._v("#")]),t._v(" 3.2.2 å‡ ç‚¹è¯´æ˜")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬è¿™é‡Œå¯¹å®¹æ˜“æ··æ·†çš„å‡ ç‚¹ç®€å•è¿›è¡Œè¯´æ˜ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("ä¼ª SP å’Œç¡¬ä»¶ SP ä¸æ˜¯ä¸€å›äº‹ï¼Œåœ¨æ‰‹å†™æ±‡ç¼–ä»£ç æ—¶ï¼Œä¼ª SP å’Œç¡¬ä»¶ SP çš„åŒºåˆ†æ–¹æ³•æ˜¯çœ‹è¯¥ SP å‰æ˜¯å¦æœ‰ symbolã€‚å¦‚æœæœ‰ symbolï¼Œé‚£ä¹ˆå³ä¸ºä¼ªå¯„å­˜å™¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆè¯´æ˜æ˜¯ç¡¬ä»¶ SP å¯„å­˜å™¨ã€‚")]),t._v(" "),n("li",[t._v("ä¼ª SP å’Œ FP çš„ç›¸å¯¹ä½ç½®æ˜¯ä¼šå˜çš„ï¼Œæ‰€ä»¥ä¸åº”è¯¥å°è¯•ç”¨ä¼ª SP å¯„å­˜å™¨å»æ‰¾é‚£äº›ç”¨ FP+offset æ¥å¼•ç”¨çš„å€¼ï¼Œä¾‹å¦‚å‡½æ•°çš„å…¥å‚å’Œè¿”å›å€¼ã€‚")]),t._v(" "),n("li",[n("code",[t._v("go tool objdump")]),t._v("/"),n("code",[t._v("go tool compile -S")]),t._v(" è¾“å‡ºçš„ä»£ç æ²¡æœ‰ä¼ª SP å’Œ FP å¯„å­˜å™¨ã€‚æˆ‘ä»¬ä¸Šé¢è¯´çš„åŒºåˆ†ä¼ª SP å’Œç¡¬ä»¶ SP å¯„å­˜å™¨çš„æ–¹æ³•ï¼Œå¯¹äºä¸Šè¿°ä¸¤ä¸ªå‘½ä»¤çš„è¾“å‡ºç»“æœæ˜¯æ²¡æ³•ä½¿ç”¨çš„ã€‚åœ¨ç¼–è¯‘å’Œåæ±‡ç¼–çš„ç»“æœä¸­ï¼Œåªæœ‰çœŸå®çš„ SP å¯„å­˜å™¨ã€‚")]),t._v(" "),n("li",[t._v("FP å’Œ Go çš„å®˜æ–¹æºä»£ç é‡Œçš„ frame pointer ä¸æ˜¯ä¸€å›äº‹ï¼Œæºä»£ç é‡Œçš„ frame pointer æŒ‡çš„æ˜¯ caller BP å¯„å­˜å™¨çš„å€¼ï¼Œåœ¨è¿™é‡Œå’Œ caller çš„ä¼ª SP æ˜¯å€¼æ˜¯ç›¸ç­‰çš„ã€‚")])]),t._v(" "),n("h4",{attrs:{id:"_3-2-3-ia64-å’Œ-plan9-çš„å¯¹åº”å…³ç³»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-ia64-å’Œ-plan9-çš„å¯¹åº”å…³ç³»"}},[t._v("#")]),t._v(" 3.2.3 IA64 å’Œ Plan9 çš„å¯¹åº”å…³ç³»")]),t._v(" "),n("p",[t._v("åœ¨ Plan9 æ±‡ç¼–é‡Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ amd64 çš„é€šç”¨å¯„å­˜å™¨ï¼Œåº”ç”¨ä»£ç å±‚é¢ä¼šç”¨åˆ°çš„é€šç”¨å¯„å­˜å™¨ä¸»è¦æ˜¯ï¼š"),n("code",[t._v("rax")]),t._v("ã€"),n("code",[t._v("rbx")]),t._v("ã€"),n("code",[t._v("rcx")]),t._v("ã€"),n("code",[t._v("rdx")]),t._v("ã€"),n("code",[t._v("rdi")]),t._v("ã€"),n("code",[t._v("rsi")]),t._v("ã€"),n("code",[t._v("r8")]),t._v("~"),n("code",[t._v("r15")]),t._v(" è¿™äº›å¯„å­˜å™¨ï¼Œè™½ç„¶ "),n("code",[t._v("rbp")]),t._v(" å’Œ "),n("code",[t._v("rsp")]),t._v(" ä¹Ÿå¯ä»¥ç”¨ï¼Œä¸è¿‡ "),n("code",[t._v("bp")]),t._v(" å’Œ "),n("code",[t._v("sp")]),t._v(" ä¼šè¢«ç”¨æ¥ç®¡ç†æ ˆé¡¶å’Œæ ˆåº•ï¼Œæœ€å¥½ä¸è¦æ‹¿æ¥è¿›è¡Œè¿ç®—ã€‚")]),t._v(" "),n("p",[t._v("Plan9 ä¸­ä½¿ç”¨å¯„å­˜å™¨ä¸éœ€è¦å¸¦ "),n("code",[t._v("r")]),t._v(" æˆ– "),n("code",[t._v("e")]),t._v(" å‰ç¼€ï¼Œä¾‹å¦‚ "),n("code",[t._v("rax")]),t._v("ï¼Œåªè¦å†™ "),n("code",[t._v("AX")]),t._v(" å³å¯ï¼š"),n("code",[t._v("MOVQ $101, AX = mov rax, 101")])]),t._v(" "),n("p",[t._v("ä¸‹é¢æ˜¯é€šç”¨é€šç”¨å¯„å­˜å™¨çš„åå­—åœ¨ IA64 å’Œ Plan9 ä¸­çš„å¯¹åº”å…³ç³»:")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("x86_64")]),t._v(" "),n("th",[n("code",[t._v("rax")])]),t._v(" "),n("th",[n("code",[t._v("rbx")])]),t._v(" "),n("th",[n("code",[t._v("rcx")])]),t._v(" "),n("th",[n("code",[t._v("rdx")])]),t._v(" "),n("th",[n("code",[t._v("rdi")])]),t._v(" "),n("th",[n("code",[t._v("rsi")])]),t._v(" "),n("th",[n("code",[t._v("rbp")])]),t._v(" "),n("th",[n("code",[t._v("rsp")])]),t._v(" "),n("th",[n("code",[t._v("r8")])]),t._v(" "),n("th",[n("code",[t._v("r9")])]),t._v(" "),n("th",[n("code",[t._v("r10")])]),t._v(" "),n("th",[n("code",[t._v("r11")])]),t._v(" "),n("th",[n("code",[t._v("r12")])]),t._v(" "),n("th",[n("code",[t._v("r13")])]),t._v(" "),n("th",[n("code",[t._v("r14")])]),t._v(" "),n("th",[n("code",[t._v("rip")])])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Plan9")]),t._v(" "),n("td",[n("code",[t._v("AX")])]),t._v(" "),n("td",[n("code",[t._v("BX")])]),t._v(" "),n("td",[n("code",[t._v("CX")])]),t._v(" "),n("td",[n("code",[t._v("DX")])]),t._v(" "),n("td",[n("code",[t._v("DI")])]),t._v(" "),n("td",[n("code",[t._v("SI")])]),t._v(" "),n("td",[n("code",[t._v("BP")])]),t._v(" "),n("td",[n("code",[t._v("SP")])]),t._v(" "),n("td",[n("code",[t._v("R8")])]),t._v(" "),n("td",[n("code",[t._v("R9")])]),t._v(" "),n("td",[n("code",[t._v("R10")])]),t._v(" "),n("td",[n("code",[t._v("R11")])]),t._v(" "),n("td",[n("code",[t._v("R12")])]),t._v(" "),n("td",[n("code",[t._v("R13")])]),t._v(" "),n("td",[n("code",[t._v("R14")])]),t._v(" "),n("td",[n("code",[t._v("PC")])])])])]),t._v(" "),n("h3",{attrs:{id:"_3-3-å¸¸ç”¨æ“ä½œæŒ‡ä»¤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-å¸¸ç”¨æ“ä½œæŒ‡ä»¤"}},[t._v("#")]),t._v(" 3.3 å¸¸ç”¨æ“ä½œæŒ‡ä»¤")]),t._v(" "),n("p",[t._v("ä¸‹é¢åˆ—å‡ºäº†å¸¸ç”¨çš„å‡ ä¸ªæ±‡ç¼–æŒ‡ä»¤ï¼ˆæŒ‡ä»¤åç¼€ "),n("code",[t._v("Q")]),t._v(" è¯´æ˜æ˜¯ 64 ä½çš„æ±‡ç¼–æŒ‡ä»¤ï¼‰ã€‚")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("åŠ©è®°ç¬¦æŒ‡ä»¤")]),t._v(" "),n("th",[t._v("ç§ç±»")]),t._v(" "),n("th",[t._v("ç”¨é€”")]),t._v(" "),n("th",[t._v("ç¤ºä¾‹")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("code",[t._v("MOVQ")])]),t._v(" "),n("td",[t._v("ä¼ é€")]),t._v(" "),n("td",[t._v("æ•°æ®ä¼ é€")]),t._v(" "),n("td",[n("code",[t._v("MOVQ 48, AX")]),t._v(" æŠŠ 48 ä¼ é€åˆ° "),n("code",[t._v("AX")])])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("LEAQ")])]),t._v(" "),n("td",[t._v("ä¼ é€")]),t._v(" "),n("td",[t._v("åœ°å€ä¼ é€")]),t._v(" "),n("td",[n("code",[t._v("LEAQ AX, BX")]),t._v(" æŠŠ "),n("code",[t._v("AX")]),t._v(" æœ‰æ•ˆåœ°å€ä¼ é€åˆ° "),n("code",[t._v("BX")])])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("PUSHQ")])]),t._v(" "),n("td",[t._v("ä¼ é€")]),t._v(" "),n("td",[t._v("æ ˆå‹å…¥")]),t._v(" "),n("td",[n("code",[t._v("PUSHQ AX")]),t._v(" å°† "),n("code",[t._v("AX")]),t._v(" çš„å†…å®¹é€å…¥æ ˆé¡¶ä½ç½®")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("POPQ")])]),t._v(" "),n("td",[t._v("ä¼ é€")]),t._v(" "),n("td",[t._v("æ ˆå¼¹å‡º")]),t._v(" "),n("td",[n("code",[t._v("POPQ AX")]),t._v(" å¼¹å‡ºæ ˆé¡¶æ•°æ®åä¿®æ”¹æ ˆé¡¶æŒ‡é’ˆ")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("ADDQ")])]),t._v(" "),n("td",[t._v("è¿ç®—")]),t._v(" "),n("td",[t._v("ç›¸åŠ å¹¶èµ‹å€¼")]),t._v(" "),n("td",[n("code",[t._v("ADDQ BX, AX")]),t._v(" ç­‰ä»·äº "),n("code",[t._v("AX+=BX")])])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("SUBQ")])]),t._v(" "),n("td",[t._v("è¿ç®—")]),t._v(" "),n("td",[t._v("ç›¸å‡å¹¶èµ‹å€¼")]),t._v(" "),n("td",[n("code",[t._v("SUBQ BX, AX")]),t._v(" ç­‰ä»·äº "),n("code",[t._v("AX-=BX")])])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("CMPQ")])]),t._v(" "),n("td",[t._v("è¿ç®—")]),t._v(" "),n("td",[t._v("æ¯”è¾ƒå¤§å°")]),t._v(" "),n("td",[n("code",[t._v("CMPQ SI CX")]),t._v(" æ¯”è¾ƒ "),n("code",[t._v("SI")]),t._v(" å’Œ "),n("code",[t._v("CX")]),t._v(" çš„å¤§å°")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("CALL")])]),t._v(" "),n("td",[t._v("è½¬ç§»")]),t._v(" "),n("td",[t._v("è°ƒç”¨å‡½æ•°")]),t._v(" "),n("td",[n("code",[t._v("CALL runtime.printnl(SB)")]),t._v(" å‘èµ·è°ƒç”¨")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("JMP")])]),t._v(" "),n("td",[t._v("è½¬ç§»")]),t._v(" "),n("td",[t._v("æ— æ¡ä»¶è½¬ç§»æŒ‡ä»¤")]),t._v(" "),n("td",[n("code",[t._v("JMP 0x0185")]),t._v(" æ— æ¡ä»¶è½¬è‡³ 0x0185 åœ°å€å¤„")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("JLS")])]),t._v(" "),n("td",[t._v("è½¬ç§»")]),t._v(" "),n("td",[t._v("æ¡ä»¶è½¬ç§»æŒ‡ä»¤")]),t._v(" "),n("td",[n("code",[t._v("JLS 0x0185")]),t._v(" å·¦è¾¹å°äºå³è¾¹ï¼Œåˆ™è·³åˆ° 0x0185")])])])]),t._v(" "),n("h2",{attrs:{id:"_4-æ±‡ç¼–åˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ±‡ç¼–åˆ†æ"}},[t._v("#")]),t._v(" 4. æ±‡ç¼–åˆ†æ")]),t._v(" "),n("p",[t._v("è¯´äº†é‚£ä¹ˆå¤šï¼Œçœ‹çœ‹ä»£ç å§ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_4-1-å¦‚ä½•è¾“å‡º-go-æ±‡ç¼–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-å¦‚ä½•è¾“å‡º-go-æ±‡ç¼–"}},[t._v("#")]),t._v(" 4.1 å¦‚ä½•è¾“å‡º Go æ±‡ç¼–")]),t._v(" "),n("p",[t._v("å¯¹äºå†™å¥½çš„ go æºç ï¼Œç”Ÿæˆå¯¹åº”çš„ Go æ±‡ç¼–ï¼Œå¤§æ¦‚æœ‰ä¸‹é¢å‡ ç§")]),t._v(" "),n("ol",[n("li",[t._v("å…ˆä½¿ç”¨ "),n("code",[t._v('go build -gcflags "-N -l" main.go')]),t._v(" ç”Ÿæˆå¯¹åº”çš„å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†ä½¿ç”¨ "),n("code",[t._v('go tool objdump -s "main." main')]),t._v(" åç¼–è¯‘è·å–å¯¹åº”çš„æ±‡ç¼–ã€‚\n"),n("ul",[n("li",[t._v("åç¼–è¯‘æ—¶ï¼Œ"),n("code",[t._v('"main."')]),t._v(" è¡¨ç¤ºåªè¾“å‡º main åŒ…ä¸­ç›¸å…³çš„æ±‡ç¼–ï¼Œ"),n("code",[t._v('"main.main"')]),t._v("åˆ™è¡¨ç¤ºåªè¾“å‡º "),n("code",[t._v("main")]),t._v(" åŒ…ä¸­ "),n("code",[t._v("main")]),t._v(" æ–¹æ³•ç›¸å…³çš„æ±‡ç¼–")])])]),t._v(" "),n("li",[t._v("ä½¿ç”¨ "),n("code",[t._v("go tool compile -S -N -l main.go")]),t._v(" è¿™ç§æ–¹å¼ç›´æ¥è¾“å‡ºæ±‡ç¼–")]),t._v(" "),n("li",[t._v("ä½¿ç”¨ "),n("code",[t._v('go build -gcflags="-N -l -S" main.go')]),t._v(" ç›´æ¥è¾“å‡ºæ±‡ç¼–")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[t._v("æ³¨æ„äº‹é¡¹")]),n("p",[t._v("åœ¨ä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼ŒåŠ ä¸Šå¯¹åº”çš„ "),n("code",[t._v("flag")]),t._v("ï¼Œå¦åˆ™æŸäº›é€»è¾‘ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰ï¼Œè€Œçœ‹ä¸åˆ°å¯¹åº”å®Œæ•´çš„æ±‡ç¼–ä»£ç ã€‚æ ‡è¯†ç¬¦çš„ä½œç”¨åˆ†åˆ«ä¸ºï¼š"),n("code",[t._v("-l")]),t._v(" ç¦æ­¢å†…è”ï¼Œ"),n("code",[t._v("-N")]),t._v(" ç¦æ­¢ä¼˜åŒ–ï¼Œ"),n("code",[t._v("-S")]),t._v(" è¾“å‡ºæ±‡ç¼–ä»£ç ã€‚")])]),n("h3",{attrs:{id:"_4-2-go-æ±‡ç¼–ç¤ºä¾‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-go-æ±‡ç¼–ç¤ºä¾‹"}},[t._v("#")]),t._v(" 4.2 Go æ±‡ç¼–ç¤ºä¾‹")]),t._v(" "),n("p",[t._v("go ç¤ºä¾‹ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tsum "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸è®¾ç½®è¯¥å±€éƒ¨å˜é‡ sumï¼Œadd æ ˆç©ºé—´å¤§å°ä¼šæ˜¯ 0")]),t._v("\n\tsum "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sum\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("ç¼–è¯‘ go æºä»£ç ï¼Œè¾“å‡ºæ±‡ç¼–")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne/hello-world"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# go tool compile -N -l -S main.go")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("æˆªå–ä¸»è¦æ±‡ç¼–å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".add STEXT nosplit "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x18 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("locals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x10 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("funcid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x0\n\t0x0000 00000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tTEXT\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", NOSPLIT"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("ABIInternal, "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$16")]),t._v("-24\n\t0x0000 00000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tSUBQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$16")]),t._v(", SP\n\t0x0004 00004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tBP, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0009 00009 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tLEAQ\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", BP\n\t0x000e 00014 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tFUNCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", gclocalsÂ·33cdeccccebe80329f1fdbee7f5874cb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x000e 00014 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tFUNCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(", gclocalsÂ·33cdeccccebe80329f1fdbee7f5874cb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x000e 00014 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".~r2+40"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0017 00023 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".sum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x001f 00031 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".a+24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\n\t0x0024 00036 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tADDQ\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".b+32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\n\t0x0029 00041 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tAX, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".sum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x002d 00045 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tAX, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".~r2+40"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0032 00050 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", BP\n\t0x0037 00055 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tADDQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$16")]),t._v(", SP\n\t0x003b 00059 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tRET\n\t0x0000 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),t._v(" ec "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),t._v(" 6c "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" 08 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" 8d 6c "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" 08 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" c7  H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".H.l$.H.l$.H.\n\t0x0010 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" 00 00 00 00 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" c7 04 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" 00 00 00 00 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("  D"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("H\n\t0x0020 8b "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" 03 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),t._v(" 04 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("89")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),t._v("  .D$.H.D$ H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$H")]),t._v(".D\n\t0x0030 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" 8b 6c "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" 08 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),t._v(" c4 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" c3              "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),t._v("H.l$.H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".main STEXT "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x0 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("locals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x28 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("funcid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0x0\n\t0x0000 00000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tTEXT\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", ABIInternal, "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$40")]),t._v("-0\n\t0x0000 00000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TLS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", CX\n\t0x0009 00009 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCMPQ\tSP, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CX"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x000d 00013 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tPCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", $-2\n\t0x000d 00013 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tJLS\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("103")]),t._v("\n\t0x000f 00015 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tPCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", $-1\n\t0x000f 00015 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tSUBQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$40")]),t._v(", SP\n\t0x0013 00019 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tBP, "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0018 00024 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tLEAQ\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", BP\n\t0x001d 00029 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tFUNCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v(", gclocalsÂ·33cdeccccebe80329f1fdbee7f5874cb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x001d 00029 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tFUNCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(", gclocalsÂ·33cdeccccebe80329f1fdbee7f5874cb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x001d 00029 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0025 00037 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x002e 00046 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tPCDATA\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v("\n\t0x002e 00046 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCALL\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0033 00051 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\n\t0x0038 00056 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tAX, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("autotmp_0+24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x003d 00061 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tNOP\n\t0x0040 00064 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCALL\truntime.printlock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0045 00069 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("autotmp_0+24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\n\t0x004a 00074 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\tAX, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x004e 00078 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCALL\truntime.printint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0053 00083 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCALL\truntime.printnl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x0058 00088 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tCALL\truntime.printunlock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t0x005d 00093 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tMOVQ\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", BP\n\t0x0062 00098 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tADDQ\t"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$40")]),t._v(", SP\n\t0x0066 00102 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main.go:11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\tRET\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br")])]),n("p",[t._v("è¿™é‡Œåˆ—ä¸¾äº†ä¸€ä¸ªç®€å•çš„ "),n("code",[t._v("int")]),t._v(" ç±»å‹åŠ æ³•ç¤ºä¾‹ï¼Œå®é™…å¼€å‘ä¸­ä¼šé‡åˆ°å„ç§å‚æ•°ç±»å‹ï¼Œè¦å¤æ‚çš„å¤šï¼Œè¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰ ğŸ˜ƒ")]),t._v(" "),n("h3",{attrs:{id:"_4-3-go-æ±‡ç¼–è§£æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-go-æ±‡ç¼–è§£æ"}},[t._v("#")]),t._v(" 4.3 Go æ±‡ç¼–è§£æ")]),t._v(" "),n("p",[t._v("æ¥ä¸‹æ¥åˆ†æä¸€ä¸‹ä¸Šä¸€èŠ‚è¾“å‡ºçš„æ±‡ç¼–é‡è¦æ ¸å¿ƒä»£ç ã€‚")]),t._v(" "),n("h4",{attrs:{id:"_4-3-1-add-å‡½æ•°æ±‡ç¼–è§£æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-add-å‡½æ•°æ±‡ç¼–è§£æ"}},[t._v("#")]),t._v(" 4.3.1 "),n("code",[t._v("add")]),t._v(" å‡½æ•°æ±‡ç¼–è§£æ")]),t._v(" "),n("ul",[n("li",[n("code",[t._v('TEXT "".add(SB), NOSPLIT|ABIInternal, $16-24')]),t._v(" "),n("ul",[n("li",[n("code",[t._v('TEXT "".add(SB) TEXT')]),t._v(" æŒ‡ä»¤å£°æ˜ "),n("code",[t._v('"".add')]),t._v(" æ˜¯ "),n("code",[t._v(".text")]),t._v(" ä»£ç æ®µçš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¡¨æ˜è·Ÿåœ¨è¿™ä¸ªå£°æ˜åçš„æ˜¯å‡½æ•°ä¸»ä½“ã€‚åœ¨é“¾æ¥æœŸï¼Œ"),n("code",[t._v('""')]),t._v("è¿™ä¸ªç©ºå­—ç¬¦ä¼šè¢«æ›¿æ¢ä¸ºå½“å‰çš„åŒ…åï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š"),n("code",[t._v('"".add')]),t._v("åœ¨é“¾æ¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶åä¼šå˜æˆ "),n("code",[t._v("main.add")]),t._v("ã€‚")]),t._v(" "),n("li",[n("code",[t._v("SB")]),t._v(" æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ä¼ªå¯„å­˜å™¨ï¼Œä¿å­˜é™æ€åŸºåœ°å€ï¼ˆstatic-baseï¼‰æŒ‡é’ˆï¼Œå³ç¨‹åºåœ°å€ç©ºé—´çš„å¼€å§‹åœ°å€ã€‚"),n("code",[t._v('"".add(SB)')]),t._v(" è¡¨æ˜ç¬¦å·ä½äºæŸä¸ªå›ºå®šçš„ç›¸å¯¹åœ°å€ç©ºé—´èµ·å§‹å¤„çš„åç§»ä½ç½®ï¼ˆæœ€ç»ˆæ˜¯ç”±è¿æ¥å™¨è®¡ç®—å¾—åˆ°çš„ï¼‰ã€‚æ¢å¥è¯æ¥è®²ï¼Œå®ƒæœ‰ä¸€ä¸ªç›´æ¥çš„ç»å¯¹åœ°å€ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„å‡½æ•°ç¬¦å·ã€‚")]),t._v(" "),n("li",[n("code",[t._v("NOSPLIT")]),t._v("å‘ç¼–è¯‘å™¨è¡¨æ˜ä¸åº”è¯¥æ’å…¥ stack-split ç”¨æ¥æ£€æŸ¥æ ˆéœ€è¦æ‰©å¼ çš„å‰å¯¼æŒ‡ä»¤ã€‚å¯¹äº "),n("code",[t._v("add")]),t._v(" å‡½æ•°ï¼Œç¼–è¯‘å™¨å¸®æˆ‘ä»¬æ’å…¥äº†è¿™ä¸ªæ ‡è®°ï¼šå®ƒè¶³å¤Ÿèªæ˜åœ°æ„è¯†åˆ°ï¼Œç”±äº "),n("code",[t._v("add")]),t._v(" æ²¡æœ‰ä»»ä½•å±€éƒ¨å˜é‡ä¸”æ²¡æœ‰è‡ªå·±çš„æ ˆå¸§ï¼Œæ‰€ä»¥ä¸€å®šä¸ä¼šè¶…å‡ºå½“å‰çš„æ ˆã€‚ä¸ç„¶ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œåœ¨è¿™é‡Œæ‰§è¡Œæ ˆæ£€æŸ¥å°±æ˜¯å®Œå…¨æµªè´¹ CPU æ—¶é—´ã€‚")]),t._v(" "),n("li",[n("code",[t._v("$16-24")]),t._v(" "),n("ul",[n("li",[t._v("16 = size(BP) + size(sum)")]),t._v(" "),n("li",[t._v("24 æŒ‡å®šè°ƒç”¨æ–¹ä¼ å…¥çš„å‚æ•°å’Œè¿”å›å€¼çš„æ€»å¤§å°ï¼ˆ24 å­—èŠ‚=å…¥å‚ "),n("code",[t._v("a")]),t._v("ã€"),n("code",[t._v("b")]),t._v(" å¤§å°ï¼ˆ8 å­—èŠ‚ï¼‰*2 + è¿”å›å€¼ï¼ˆ8å­—èŠ‚ï¼‰ï¼‰")])])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://golang.org/doc/asm",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go å®˜æ–¹æ–‡æ¡£"),n("OutboundLink")],1),t._v(" ç‰¹åœ°è¯´æ˜ï¼šé€šå¸¸æ¥è®²ï¼Œå¸§å¤§å°åä¸€èˆ¬éƒ½è·Ÿéšç€ä¸€ä¸ªå‚æ•°å¤§å°ï¼Œç”¨å‡å·åˆ†éš”ã€‚(è¿™ä¸æ˜¯ä¸€ä¸ªå‡æ³•æ“ä½œï¼Œåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•) å¸§å¤§å° "),n("code",[t._v("$24-8")]),t._v(" æ„å‘³ç€è¿™ä¸ªå‡½æ•°æœ‰ 24 ä¸ªå­—èŠ‚çš„å¸§ä»¥åŠ 8 ä¸ªå­—èŠ‚çš„å‚æ•°ï¼Œä½äºè°ƒç”¨è€…çš„æ ˆå¸§ä¸Šã€‚å¦‚æœ "),n("code",[t._v("NOSPLIT")]),t._v(" æ²¡æœ‰åœ¨ "),n("code",[t._v("TEXT")]),t._v(" ä¸­æŒ‡å®šï¼Œåˆ™å¿…é¡»æä¾›å‚æ•°å¤§å°ã€‚å¯¹äº Go åŸå‹çš„æ±‡ç¼–å‡½æ•°ï¼Œ"),n("code",[t._v("go vet")]),t._v(" ä¼šæ£€æŸ¥å‚æ•°å¤§å°æ˜¯å¦æ­£ç¡®ã€‚")])])]),t._v(" "),n("li",[n("code",[t._v("SUBQ $16, SP")]),t._v("ï¼š"),n("code",[t._v("SP")]),t._v(" ä¸ºæ ˆé¡¶æŒ‡é’ˆï¼Œè¯¥è¯­å¥ç­‰ä»·äº "),n("code",[t._v("SP-=16")]),t._v("ï¼ˆç”±äºæ ˆç©ºé—´æ˜¯å‘ä¸‹å¢é•¿çš„ï¼Œæ‰€ä»¥å¼€è¾Ÿæ ˆç©ºé—´æ—¶ä¸ºå‡æ“ä½œï¼‰ï¼Œè¡¨ç¤ºç”Ÿæˆ 16 å­—èŠ‚å¤§å°çš„æ ˆç©ºé—´ã€‚")]),t._v(" "),n("li",[n("code",[t._v("LEAQ 8(SP), BP")]),t._v("ï¼šå°† "),n("code",[t._v("8(SP)")]),t._v(" è¿™ä¸ªåœ°å€è€Œä¸æ˜¯å­˜å‚¨çš„å†…å®¹å­˜å‚¨åˆ° "),n("code",[t._v("BP")]),t._v("ã€‚"),n("code",[t._v("LEA")]),t._v(' çš„å…¨ç§°æ˜¯ "Load Effective Address"ã€‚')]),t._v(" "),n("li",[n("code",[t._v('MOVQ $0, "".~r2+40(SP)')]),t._v(" "),n("ul",[n("li",[t._v("æ­¤æ—¶çš„ "),n("code",[t._v("SP")]),t._v(" ä¸º "),n("code",[t._v("add")]),t._v(" å‡½æ•°æ ˆçš„æ ˆé¡¶æŒ‡é’ˆï¼Œ"),n("code",[t._v("40(SP)")]),t._v(" çš„ä½ç½®åˆ™æ˜¯ "),n("code",[t._v("add")]),t._v(" è¿”å›å€¼çš„ä½ç½®ï¼Œè¯¥ä½ç½®ä½äº "),n("code",[t._v("main")]),t._v(" å‡½æ•°æ ˆç©ºé—´å†…ã€‚")]),t._v(" "),n("li",[t._v("è¯¥è¯­å¥è®¾ç½®è¿”å›å€¼ç±»å‹çš„ 0 å€¼ï¼Œå³åˆå§‹åŒ–è¿”å›å€¼ï¼Œé˜²æ­¢å¾—åˆ°è„æ•°æ®ï¼ˆè¿”å›å€¼ç±»å‹ä¸º "),n("code",[t._v("int")]),t._v("ï¼Œ"),n("code",[t._v("int")]),t._v(" çš„ 0 å€¼ä¸º 0ï¼‰ã€‚")])])]),t._v(" "),n("li",[n("code",[t._v('MOVQ "".a+24(SP)')]),t._v("ï¼š"),n("code",[t._v("AX")]),t._v(" ä» "),n("code",[t._v("main")]),t._v(" å‡½æ•°æ ˆç©ºé—´è·å–å…¥å‚ "),n("code",[t._v("a")]),t._v(" çš„å€¼ï¼Œå­˜åˆ°å¯„å­˜å™¨ "),n("code",[t._v("AX")]),t._v(" "),n("ul",[n("li",[t._v("å‚æ•°æ˜¯ååºä¼ å…¥çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå‚æ•° "),n("code",[t._v("a")]),t._v(" å’Œä½åœ°å€çš„"),n("strong",[t._v("æ ˆé¡¶")]),t._v("è·ç¦»æœ€è¿‘ã€‚")])])]),t._v(" "),n("li",[n("code",[t._v('ADDQ "".b+32(SP)')]),t._v("ï¼š"),n("code",[t._v("AX")]),t._v(" ä» "),n("code",[t._v("main")]),t._v(" å‡½æ•°æ ˆç©ºé—´è·å–å…¥å‚ "),n("code",[t._v("b")]),t._v(" çš„å€¼ï¼Œä¸å¯„å­˜å™¨ "),n("code",[t._v("AX")]),t._v(" å­˜å‚¨çš„ a å€¼ç›¸åŠ ï¼Œç»“æœå­˜åˆ°  "),n("code",[t._v("AX")]),t._v("ï¼Œç›¸å½“äº "),n("code",[t._v("AX=a+b")])]),t._v(" "),n("li",[n("code",[t._v('MOVQ AX, "".~r2+40(SP)')]),t._v("ï¼šæŠŠ "),n("code",[t._v("a+b")]),t._v(" çš„ç»“æœæ”¾åˆ° "),n("code",[t._v("main")]),t._v(" å‡½æ•°æ ˆä¸­ "),n("code",[t._v("add(a+b)")]),t._v(" è¿”å›å€¼æ‰€åœ¨çš„ä½ç½®")]),t._v(" "),n("li",[n("code",[t._v("ADDQ $16, SP")]),t._v("ï¼šå½’è¿˜ "),n("code",[t._v("add")]),t._v(" å‡½æ•°å ç”¨çš„æ ˆç©ºé—´")])]),t._v(" "),n("h4",{attrs:{id:"_4-3-2-å‡½æ•°æ ˆæ¡¢ç»“æ„æ¨¡å‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-å‡½æ•°æ ˆæ¡¢ç»“æ„æ¨¡å‹"}},[t._v("#")]),t._v(" 4.3.2 å‡½æ•°æ ˆæ¡¢ç»“æ„æ¨¡å‹")]),t._v(" "),n("p",[n("a",{attrs:{href:"#_4-2-go-%E6%B1%87%E7%BC%96%E7%A4%BA%E4%BE%8B"}},[t._v("4.2 èŠ‚")]),t._v(" æ‰€ç¤ºæ±‡ç¼–ä»£ç çš„å‡½æ•°æ ˆæ¡¢ç»“æ„æ¨¡å‹å¦‚ä¸‹")]),t._v(" "),n("p",[n("img",{attrs:{src:a(660),alt:""}})]),t._v(" "),n("p",[t._v("è¿˜è®°å¾—å‰é¢æåˆ°çš„ï¼ŒGo æ±‡ç¼–ä½¿ç”¨çš„æ˜¯ caller-save æ¨¡å¼ï¼Œè¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°ã€è¿”å›å€¼å’Œæ ˆä½ç½®éƒ½éœ€è¦ç”±è°ƒç”¨è€…ç»´æŠ¤å—ï¼Ÿ")]),t._v(" "),n("p",[t._v("åœ¨å‡½æ•°æ ˆæ¡¢ç»“æ„ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ"),n("code",[t._v("add()")]),t._v(" å‡½æ•°çš„å…¥å‚ä»¥åŠè¿”å›å€¼éƒ½ç”±è°ƒç”¨è€… "),n("code",[t._v("main()")]),t._v(" å‡½æ•°ç»´æŠ¤ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºå¦‚æ­¤ï¼ŒGo æœ‰äº†å…¶ä»–è¯­è¨€ä¸å…·æœ‰çš„ï¼Œæ”¯æŒå¤šä¸ªè¿”å›å€¼çš„ç‰¹æ€§ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_4-4-go-æ±‡ç¼–è¯­æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-go-æ±‡ç¼–è¯­æ³•"}},[t._v("#")]),t._v(" 4.4 Go æ±‡ç¼–è¯­æ³•")]),t._v(" "),n("p",[t._v("è¿™é‡Œé‡ç‚¹è®²ä¸€ä¸‹å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ã€‚")]),t._v(" "),n("h4",{attrs:{id:"_4-4-1-å‡½æ•°å£°æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-å‡½æ•°å£°æ˜"}},[t._v("#")]),t._v(" 4.4.1 å‡½æ•°å£°æ˜")]),t._v(" "),n("p",[t._v("æ¥çœ‹ä¸€ä¸ªå…¸å‹çš„ Go æ±‡ç¼–å‡½æ•°å®šä¹‰")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('// func add(a, b int) int\n// è¯¥addå‡½æ•°å£°æ˜å®šä¹‰åœ¨åŒä¸€ä¸ª package name ä¸‹çš„ä»»æ„ .goæ–‡ä»¶ä¸­\n// åªæœ‰å‡½æ•°å¤´ï¼Œæ²¡æœ‰å®ç°\n\n// addå‡½æ•°çš„Goæ±‡ç¼–å®ç°\n// pkgname é»˜è®¤æ˜¯  ""\nTEXT pkgnameÂ·add(SB), NOSPLIT, $16-24\n    MOVQ a+0(FP), AX\n    ADDQ b+8(FP), AX\n    MOVQ AX, ret+16(FP)\n    RET\n\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("blockquote",[n("p",[t._v("æ³¨æ„ï¼šæœ€åæœ‰ä¸€ä¸ªå¿…é¡»çš„ç©ºè¡Œã€‚")])]),t._v(" "),n("p",[t._v("Go æ±‡ç¼–å®ç°ä¸ºä»€ä¹ˆæ˜¯ "),n("code",[t._v("TEXT")]),t._v(" å¼€å¤´ï¼Ÿä»”ç»†è§‚å¯Ÿä¸Šé¢çš„è¿›ç¨‹å†…å­˜å¸ƒå±€å›¾å°±ä¼šå‘ç°ï¼Œæˆ‘ä»¬çš„ä»£ç åœ¨æ˜¯å­˜å‚¨åœ¨ "),n("code",[t._v(".text")]),t._v(" æ®µçš„ï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯ä¸€ç§çº¦å®šä¿—æˆçš„èµ·åæ–¹å¼ã€‚å®é™…ä¸Šåœ¨ Plan9 ä¸­ "),n("code",[t._v("TEXT")]),t._v(" æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚")]),t._v(" "),n("p",[t._v("å®šä¹‰ä¸­çš„ "),n("code",[t._v("pkgname")]),t._v(" å¯ä»¥çœç•¥ï¼ˆéæƒ³å†™ä¹Ÿå¯ä»¥å†™ä¸Šï¼Œä¸è¿‡å†™ä¸Š "),n("code",[t._v("pkgname")]),t._v(" çš„è¯ï¼Œåœ¨é‡å‘½ååŒ…ååè¿˜éœ€è¦æ”¹ä»£ç ï¼Œé»˜è®¤ä¸º "),n("code",[t._v('""')]),t._v("ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šåœ¨é“¾æ¥æœŸè‡ªåŠ¨åŠ ä¸Šæ‰€å±çš„åŒ…åç§°ã€‚")]),t._v(" "),n("p",[t._v("ä¸­ç‚¹ "),n("code",[t._v("Â·")]),t._v(" æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯ä¸€ä¸ª unicode çš„ä¸­ç‚¹ï¼Œè¯¥ç‚¹åœ¨ mac ä¸‹çš„è¾“å…¥æ–¹æ³•æ˜¯ "),n("code",[t._v("option + shift + 9")]),t._v("ã€‚åœ¨ç¨‹åºè¢«é“¾æ¥ä¹‹åï¼Œæ‰€æœ‰çš„ä¸­ç‚¹ "),n("code",[t._v("Â·")]),t._v(" éƒ½ä¼šè¢«æ›¿æ¢ä¸ºå¥å· "),n("code",[t._v(".")]),t._v("ï¼Œæ¯”å¦‚æ–¹æ³•æ˜¯ "),n("code",[t._v("runtimeÂ·main")]),t._v("ï¼Œåœ¨ç¼–è¯‘ä¹‹åçš„ç¨‹åºé‡Œçš„ç¬¦å·åˆ™æ˜¯ "),n("code",[t._v("runtime.main")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ç®€å•æ€»ç»“ä¸€ä¸‹, Go æ±‡ç¼–å®ç°å‡½æ•°å£°æ˜ï¼Œæ ¼å¼ä¸º:")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(" é™æ€åŸºåœ°å€ï¼ˆstatic-baseï¼‰æŒ‡é’ˆ\n                  |\n                  |         add å‡½æ•°å…¥å‚ + è¿”å›å€¼æ€»å¤§å°\n                  |               |\nTEXT pkgnameÂ·add(SB),NOSPLIT,$16-24\n      |      |                |\nå‡½æ•°æ‰€å±åŒ…å  å‡½æ•°å       add å‡½æ•°æ ˆå¸§å¤§å°\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("ul",[n("li",[t._v("å‡½æ•°æ ˆå¸§å¤§å°ï¼šå±€éƒ¨å˜é‡åŠ ä¸Šå¯èƒ½éœ€è¦çš„é¢å¤–è°ƒç”¨å‡½æ•°çš„å‚æ•°ç©ºé—´çš„æ€»å¤§å°ï¼Œä¸åŒ…æ‹¬è°ƒç”¨å…¶å®ƒå‡½æ•°æ—¶çš„ "),n("code",[t._v("ret address")]),t._v(" çš„å¤§å°ã€‚")]),t._v(" "),n("li",[n("code",[t._v("(SB)")]),t._v("ï¼šSB æ˜¯ä¸€ä¸ªè™šæ‹Ÿå¯„å­˜å™¨ï¼Œä¿å­˜äº†é™æ€åŸºåœ°å€ï¼ˆstatic-baseï¼‰æŒ‡é’ˆï¼Œå³æˆ‘ä»¬ç¨‹åºåœ°å€ç©ºé—´çš„å¼€å§‹åœ°å€ã€‚"),n("code",[t._v('"".add(SB)')]),t._v(" è¡¨æ˜ç¬¦å·ä½äºæŸä¸ªå›ºå®šçš„ç›¸å¯¹åœ°å€ç©ºé—´èµ·å§‹å¤„çš„åç§»ä½ç½®ï¼ˆæœ€ç»ˆæ˜¯ç”±é“¾æ¥å™¨è®¡ç®—å¾—åˆ°çš„ï¼‰ã€‚æ¢å¥è¯æ¥è®²ï¼Œå®ƒæœ‰ä¸€ä¸ªç›´æ¥çš„ç»å¯¹åœ°å€ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„å‡½æ•°ç¬¦å·ã€‚")]),t._v(" "),n("li",[n("code",[t._v("NOSPLIT")]),t._v(" å‘ç¼–è¯‘å™¨è¡¨æ˜ï¼Œä¸åº”è¯¥æ’å…¥ stack-split ç”¨æ¥æ£€æŸ¥æ ˆéœ€è¦æ‰©å¼ çš„å‰å¯¼æŒ‡ä»¤ã€‚å¯¹äº"),n("code",[t._v("add")]),t._v(" å‡½æ•°ï¼Œç¼–è¯‘å™¨å¸®æˆ‘ä»¬æ’å…¥äº†è¿™ä¸ªæ ‡è®°ï¼Œå®ƒè¶³å¤Ÿèªæ˜åœ°æ„è¯†åˆ° "),n("code",[t._v("add")]),t._v(" ä¸ä¼šè¶…å‡ºå½“å‰çš„æ ˆï¼Œå› æ­¤æ²¡å¿…è¦è°ƒç”¨å‡½æ•°æ—¶åœ¨è¿™é‡Œæ‰§è¡Œæ ˆæ£€æŸ¥ã€‚")])]),t._v(" "),n("h4",{attrs:{id:"_4-4-2-å˜é‡å£°æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-å˜é‡å£°æ˜"}},[t._v("#")]),t._v(" 4.4.2 å˜é‡å£°æ˜")]),t._v(" "),n("p",[t._v("æ±‡ç¼–é‡Œçš„å…¨å±€å˜é‡ï¼Œä¸€èˆ¬æ˜¯å­˜å‚¨åœ¨ "),n("code",[t._v(".rodata")]),t._v(" æˆ–è€… "),n("code",[t._v(".data")]),t._v(" æ®µã€‚å¯¹åº”åˆ° Go ä»£ç ï¼Œå°±æ˜¯å·²åˆå§‹åŒ–è¿‡çš„å…¨å±€çš„å¸¸é‡å’Œå˜é‡ã€‚ä½¿ç”¨ "),n("code",[t._v("DATA")]),t._v(" ç»“åˆ "),n("code",[t._v("GLOBL")]),t._v(" æ¥å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("DATA")]),t._v(" çš„ç”¨æ³•ä¸º "),n("code",[t._v("DATA symbol+offset(SB)/width, value")]),t._v("ã€‚å¤§å¤šæ•°å‚æ•°éƒ½æ˜¯å­—é¢æ„æ€ï¼Œä¸è¿‡è¿™ä¸ª "),n("code",[t._v("offset")]),t._v(" éœ€è¦æ³¨æ„ï¼šå…¶å«ä¹‰æ˜¯è¯¥å€¼ç›¸å¯¹äºç¬¦å· "),n("code",[t._v("symbol")]),t._v(" çš„åç§»ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºå…¨å±€æŸä¸ªåœ°å€çš„åç§»ã€‚")]),t._v(" "),n("li",[n("code",[t._v("GLOBL Â·symbol(SB), width")]),t._v(" æ±‡ç¼–æŒ‡ä»¤ç”¨äºå®šä¹‰åä¸º "),n("code",[t._v("symbol")]),t._v(" çš„å…¨å±€å˜é‡ï¼Œå˜é‡å¯¹åº”çš„å†…å­˜å®½åº¦ä¸º "),n("code",[t._v("width")]),t._v("ï¼Œå†…å­˜å®½åº¦éƒ¨åˆ†å¿…é¡»ç”¨å¸¸é‡åˆå§‹åŒ–ã€‚")])]),t._v(" "),n("p",[n("code",[t._v("GLOBL")]),t._v(" å¿…é¡»è·Ÿåœ¨ "),n("code",[t._v("DATA")]),t._v(" æŒ‡ä»¤ä¹‹åï¼Œä¸‹é¢æ˜¯å®šä¹‰äº†å¤šä¸ªå˜é‡çš„ä¾‹å­ï¼š")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('DATA Â·age+0(SB)/4, $8  ;; æ•°å€¼ 8 ä¸º 4 å­—èŠ‚\nGLOBL Â·age(SB), RODATA, $4\n\nDATA Â·pi+0(SB)/8, $3.1415926 ;; æ•°å€¼3.1415926ä¸ºfloat64, 8å­—èŠ‚\nGLOBL Â·pi(SB), RODATA, $8\n\nDATA Â·year+0(SB)/4, $2020 ;; æ•°å€¼2020ä¸º 4å­—èŠ‚\nGLOBL Â·year(SB), RODATA, $4\n\n\n;; å˜é‡ hello ä½¿ç”¨ 2 ä¸ª DATA æ¥å®šä¹‰\nDATA Â·hello+0(SB)/8, $"hello my" ;; `hello my` å…±8ä¸ªå­—èŠ‚\nDATA Â·hello+8(SB)/8, $"   world" ;; `   world` å…±8ä¸ªå­—èŠ‚(3ä¸ªç©ºæ ¼)\nGLOBL Â·hello(SB), RODATA, $16 ;; `hello my   world`  å…±16ä¸ªå­—èŠ‚\n\n\nDATA Â·hello<>+0(SB)/8, $"hello my" ;; `hello my` å…±8ä¸ªå­—èŠ‚\nDATA Â·hello<>+8(SB)/8, $"   world" ;; `   world` å…±8ä¸ªå­—èŠ‚(3ä¸ªç©ºæ ¼)\nGLOBL Â·hello<>(SB), RODATA, $16 ;; `hello my   world`  å…±16ä¸ªå­—èŠ‚\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br")])]),n("blockquote",[n("p",[t._v("å¸¸æ•°åœ¨ Plan9 æ±‡ç¼–ç”¨ "),n("code",[t._v("$num")]),t._v(" è¡¨ç¤ºï¼Œå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºåè¿›åˆ¶ã€‚å¯ä»¥ç”¨ "),n("code",[t._v("$0x123")]),t._v(" çš„å½¢å¼æ¥è¡¨ç¤ºåå…­è¿›åˆ¶æ•°ã€‚")])]),t._v(" "),n("p",[t._v("å¤§éƒ¨åˆ†éƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œä¸è¿‡è¿™é‡Œå¼•å…¥äº†æ–°çš„æ ‡è®° "),n("code",[t._v("<>")]),t._v("ã€‚"),n("code",[t._v("<>")]),t._v(" è·Ÿåœ¨ç¬¦å·åä¹‹åï¼Œè¡¨ç¤ºè¯¥å…¨å±€å˜é‡åªåœ¨å½“å‰æ–‡ä»¶ç”Ÿæ•ˆï¼Œç±»ä¼¼äº C è¯­è¨€çš„ "),n("code",[t._v("static")]),t._v("ã€‚å¦‚æœåœ¨å¦å¤–æ–‡ä»¶ä¸­å¼•ç”¨è¯¥å˜é‡çš„è¯ï¼Œä¼šæŠ¥ "),n("code",[t._v("relocation target not found")]),t._v(" é”™è¯¯ã€‚")]),t._v(" "),n("h2",{attrs:{id:"_5-æ‰‹å†™æ±‡ç¼–å®ç°åŠŸèƒ½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ‰‹å†™æ±‡ç¼–å®ç°åŠŸèƒ½"}},[t._v("#")]),t._v(" 5. æ‰‹å†™æ±‡ç¼–å®ç°åŠŸèƒ½")]),t._v(" "),n("p",[t._v("åœ¨ Go æºç ä¸­ä¼šçœ‹åˆ°ä¸€äº›æ±‡ç¼–å†™çš„ä»£ç ï¼Œè¿™äº›ä»£ç è·Ÿå…¶ä»– go ä»£ç ä¸€èµ·ç»„æˆäº†æ•´ä¸ª go çš„åº•å±‚åŠŸèƒ½å®ç°ã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ Go æ±‡ç¼–ä»£ç ç¤ºä¾‹æ¥å®ç°ä¸¤æ•°ç›¸åŠ åŠŸèƒ½ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_5-1-ä½¿ç”¨-go-æ±‡ç¼–å®ç°-add-å‡½æ•°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-ä½¿ç”¨-go-æ±‡ç¼–å®ç°-add-å‡½æ•°"}},[t._v("#")]),t._v(" 5.1 ä½¿ç”¨ Go æ±‡ç¼–å®ç° "),n("code",[t._v("add")]),t._v(" å‡½æ•°")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.go")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("p",[t._v("Go æºç ä¸­ "),n("code",[t._v("add()")]),t._v(" å‡½æ•°åªæœ‰å‡½æ•°ç­¾åï¼Œæ²¡æœ‰å…·ä½“çš„å®ç°ã€‚ä½¿ç”¨ Go æ±‡ç¼–å®ç°çš„ "),n("code",[t._v("add()")]),t._v(" å‡½æ•°å¦‚ä¸‹")]),t._v(" "),n("div",{staticClass:"language-s line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("// add.s\nTEXT Â·add(SB), $0-24  // add æ ˆç©ºé—´ä¸º 0ï¼Œå…¥å‚+è¿”å›å€¼å¤§å°=24å­—èŠ‚\n  MOVQ a+0(FP), AX    // ä» main å–å‚æ•°ï¼š2\n  ADDQ b+8(FP), AX    // ä» main å–å‚æ•°ï¼š3\n\n  MOVQ AX, ret+16(FP) // ä¿å­˜ç»“æœåˆ°è¿”å›å€¼\n\n  RET\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[t._v("æ³¨æ„äº‹é¡¹")]),n("p",[t._v("æœ€åæœ‰ä¸€ä¸ªå¿…é¡»çš„ç©ºè¡Œã€‚")])]),n("p",[t._v("æŠŠæºç ä¸æ±‡ç¼–ä»£ç ä¸€èµ·ç¼–è¯‘å¹¶è¿è¡Œï¼ˆå½“å‰åœºæ™¯ä¸‹ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ï¼‰")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne/hello-asm"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# go run -gcflags "-N -l" .')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("p",[t._v("å¯å¾—ç»“æœä¸º "),n("code",[t._v("5")]),t._v("ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_5-2-åç¼–è¯‘å¯æ‰§è¡Œç¨‹åº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-åç¼–è¯‘å¯æ‰§è¡Œç¨‹åº"}},[t._v("#")]),t._v(" 5.2 åç¼–è¯‘å¯æ‰§è¡Œç¨‹åº")]),t._v(" "),n("p",[t._v("ç¼–è¯‘ "),n("a",{attrs:{href:"#_5-1-%E4%BD%BF%E7%94%A8-go-%E6%B1%87%E7%BC%96%E5%AE%9E%E7%8E%B0-add-%E5%87%BD%E6%95%B0"}},[t._v("5.1 èŠ‚")]),t._v(" çš„é¡¹ç›®å¾—åˆ°å¯æ‰§è¡Œç¨‹åº hello-asmï¼Œç„¶åä½¿ç”¨ objdump å·¥å…·è¿›è¡Œåç¼–è¯‘ï¼Œè·å–æ±‡ç¼–ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne/hello-asm"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# go build -o hello-asm -gcflags "-N -l" .')]),t._v("\nroot@415bbc518ed6:/home/sammyne/hello-asm"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# go tool objdump -s "main." hello-asm | grep -A8 "TEXT main.add"')]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("p",[t._v("å¾—åˆ° "),n("code",[t._v("add()")]),t._v(" å‡½æ•°å¯¹åº”çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("TEXT main.add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" /home/sammyne/hello-asm/add_amd64.s\n  add_amd64.s:3\t\t0x45ece0\t\t488b442408\t\tMOVQ 0x8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\t\n  add_amd64.s:4\t\t0x45ece5\t\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4803442410")]),t._v("\t\tADDQ 0x10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", AX\t\n  add_amd64.s:6\t\t0x45ecea\t\t"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4889442418")]),t._v("\t\tMOVQ AX, 0x18"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\n  add_amd64.s:8\t\t0x45ecef\t\tc3\t\t\tRET\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("ç”±ä¸Šå¯çŸ¥ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("ä¼ªå¯„å­˜å™¨ FP åªæœ‰åœ¨ç¼–å†™ Go æ±‡ç¼–ä»£ç æ—¶ä½¿ç”¨ã€‚FP ä¼ªå¯„å­˜å™¨æŒ‡å‘ caller ä¼ é€’ç»™ callee çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚")]),t._v(" "),n("li",[t._v("ä½¿ç”¨ "),n("code",[t._v("go tool compile")]),t._v("/"),n("code",[t._v("go tool objdump")]),t._v(" å¾—åˆ°çš„æ±‡ç¼–çœ‹ä¸åˆ° FP å¯„å­˜å™¨çš„è¸ªå½±ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"_6-go-è°ƒè¯•å·¥å…·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-go-è°ƒè¯•å·¥å…·"}},[t._v("#")]),t._v(" 6. Go è°ƒè¯•å·¥å…·")]),t._v(" "),n("p",[t._v("è¿™é‡Œæ¨è 2 ä¸ª Go ä»£ç è°ƒè¯•å·¥å…·ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_6-1-gdb-è°ƒè¯•-go-ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-gdb-è°ƒè¯•-go-ä»£ç "}},[t._v("#")]),t._v(" 6.1 gdb è°ƒè¯• Go ä»£ç ")]),t._v(" "),n("p",[t._v("æµ‹è¯•ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Ier "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" b\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" t Ier "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br")])]),n("p",[t._v("ç¼–è¯‘")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne/hello-gdb"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# go build -gcflags "-N -l" -o main')]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("ä½¿ç”¨ GDB è°ƒè¯•")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("root@415bbc518ed6:/home/sammyne/hello-gdb"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gdb main")]),t._v("\nGNU gdb "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Debian "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.2")]),t._v(".1-2+b3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.2")]),t._v(".1\nCopyright "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("C"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v(" Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" or later "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http://gnu.org/licenses/gpl.html"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nThis is "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" software: you are "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nType "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show copying"')]),t._v(" and "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show warranty"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" details.\nThis GDB was configured as "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x86_64-linux-gnu"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nType "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show configuration"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" configuration details.\nFor bug reporting instructions, please see:\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http://www.gnu.org/software/gdb/bugs/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".\nFind the GDB manual and other documentation resources online at:\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http://www.gnu.org/software/gdb/documentation/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".\n\nFor help, "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"help"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nType "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apropos word"')]),t._v(" to search "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" commands related to "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"word"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nReading symbols from main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".done.\nwarning: File "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/go/src/runtime/runtime-gdb.py"')]),t._v(" auto-loading has been declined by your `auto-load safe-path"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' set to \""),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$debugdir")]),t._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$datadir")]),t._v('/auto-load".\nTo enable execution of this file add\n\tadd-auto-load-safe-path /usr/local/go/src/runtime/runtime-gdb.py\nline to your configuration file "/root/.gdbinit".\nTo completely disable this security protection add\n\tset auto-load safe-path /\nline to your configuration file "/root/.gdbinit".\nFor more information about this security protection see the\n"Auto-loading safe path" section in the GDB manual.  E.g., run from the shell:\n\tinfo "(gdb)Auto-loading safe path"\n(gdb) list\n6\t}\n7\t\n8\ttype data struct {\n9\t\ta, b int\n10\t}\n11\t\n12\tfunc (*data) add(a, b int) int {\n13\t\treturn a + b\n14\t}\n15\t\n(gdb) list\n16\tfunc (*data) sub(a, b int) int {\n17\t\treturn a - b\n18\t}\n19\t\n20\tfunc main() {\n21\t\tvar t Ier = &data{3, 4}\n22\t\n23\t\tprintln(t.add(1, 2))\n24\t\tprintln(t.sub(3, 2))\n25\t}\n(gdb) b 23 # åœ¨æºç  23 è¡Œå¤„è®¾ç½®æ–­ç‚¹\nBreakpoint 1 at 0x45eddf: file /home/sammyne/hello-gdb/main.go, line 23.\n(gdb) r\nStarting program: /home/sammyne/hello-gdb/main \nwarning: Error disabling address space randomization: Operation not permitted\n[New LWP 1018]\n[New LWP 1019]\n[New LWP 1020]\n\nThread 1 "main" hit Breakpoint 1, main.main () at /home/sammyne/hello-gdb/main.go:23\n23\t\tprintln(t.add(1, 2))\n(gdb) info locals  # æ˜¾ç¤ºå˜é‡\nt = {tab = 0x48b108 <data,main.Ier>, data = 0xc00002a738}\n(gdb) ptype t # æ‰“å° t çš„ç»“æ„\ntype = struct runtime.iface {\n    runtime.itab *tab;\n    void *data;\n}\n(gdb) p *t.tab.inter  # æ‰“å° t.tab.inter æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®\n'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" = {typ = {size = 16, ptrdata = 16, hash = 2491815843, tflag = 7 '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', align = 8 '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("b"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', fieldAlign = 8 '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("b"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', kind = 20 '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("024', equal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("void "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("void *, \n    void *, bool *"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" 0x469b80, gcdata "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0x479f10 "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token entity",title:"\\002"}},[t._v("\\002")]),t._v('"')]),t._v(", str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),t._v(", ptrToThis "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18240")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", pkgpath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("bytes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0x45f27c "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", mhdr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("array "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0x469be0, len "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", \n    cap "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gdb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" disass  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ˜¾ç¤ºæ±‡ç¼–")]),t._v("\nDump of assembler code "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" main.main:\n   0x000000000045ed80 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("0")]),t._v(">")]),t._v(":\tmov    %fs:0xfffffffffffffff8,%rcx\n   0x000000000045ed89 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(":\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cmp")]),t._v("    0x10"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%rcx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",%rsp\n   0x000000000045ed8d "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+1"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v(":\tjbe    0x45eef2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("main.main+37"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("0")]),t._v(">")]),t._v("\n   0x000000000045ed93 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+1"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(":\tsub    "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0x70")]),t._v(",%rsp\n   0x000000000045ed97 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+2"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v(":\tmov    %rbp,0x68"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%rsp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   0x000000000045ed9c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+2"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("8")]),t._v(">")]),t._v(":\tlea    0x68"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%rsp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",%rbp\n   0x000000000045eda1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+3"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v(":\txorps  %xmm0,%xmm0\n   0x000000000045eda4 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("+3"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("6")]),t._v(">")]),t._v(":\tmovups %xmm0,0x28"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%rsp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br"),n("span",{staticClass:"line-number"},[t._v("74")]),n("br"),n("span",{staticClass:"line-number"},[t._v("75")]),n("br"),n("span",{staticClass:"line-number"},[t._v("76")]),n("br"),n("span",{staticClass:"line-number"},[t._v("77")]),n("br"),n("span",{staticClass:"line-number"},[t._v("78")]),n("br"),n("span",{staticClass:"line-number"},[t._v("79")]),n("br"),n("span",{staticClass:"line-number"},[t._v("80")]),n("br"),n("span",{staticClass:"line-number"},[t._v("81")]),n("br"),n("span",{staticClass:"line-number"},[t._v("82")]),n("br")])]),n("p",[t._v("å¸¸ç”¨çš„ gdb è°ƒè¯•å‘½ä»¤æœ‰")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("run")])]),t._v(" "),n("li",[n("code",[t._v("continue")])]),t._v(" "),n("li",[n("code",[t._v("break")])]),t._v(" "),n("li",[n("code",[t._v("backtrace")]),t._v(" å’Œ "),n("code",[t._v("frame")])]),t._v(" "),n("li",[n("code",[t._v("info break")]),t._v("ã€"),n("code",[t._v("info locals")])]),t._v(" "),n("li",[n("code",[t._v("list")])]),t._v(" "),n("li",[n("code",[t._v("print")]),t._v(" å’Œ "),n("code",[t._v("ptype")])]),t._v(" "),n("li",[n("code",[t._v("disass")])])]),t._v(" "),n("h3",{attrs:{id:"_6-2-delve-è°ƒè¯•ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-delve-è°ƒè¯•ä»£ç "}},[t._v("#")]),t._v(" 6.2 delve è°ƒè¯•ä»£ç ")]),t._v(" "),n("p",[t._v("CLI ç‰ˆå’Œ GUI ç‰ˆçš„é¡¹ç›®åœ°å€åˆ†åˆ«ä¸º "),n("a",{attrs:{href:"https://github.com/go-delve/delve",target:"_blank",rel:"noopener noreferrer"}},[t._v("go-delve"),n("OutboundLink")],1),t._v(" å’Œ "),n("a",{attrs:{href:"https://github.com/aarzilli/gdlv",target:"_blank",rel:"noopener noreferrer"}},[t._v("gdlv"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("dlv çš„å®‰è£…ä½¿ç”¨ï¼Œè¿™é‡Œä¸å†åšè¿‡å¤šè®²è§£ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("gdb ä½œä¸ºè°ƒè¯•å·¥å…·è‡ªæ˜¯ä¸ç”¨å¤šè¯´ï¼Œæ¯”è¾ƒè€ç‰Œã€å¼ºå¤§ï¼Œå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€ã€‚")]),t._v(" "),n("li",[t._v("delve åˆ™æ˜¯ä½¿ç”¨ go è¯­è¨€å¼€å‘çš„ï¼Œç”¨æ¥è°ƒè¯• go çš„å·¥å…·ï¼ŒåŠŸèƒ½ä¹Ÿæ˜¯ååˆ†å¼ºå¤§ï¼Œæ‰“å°ç»“æœå¯ä»¥æ˜¾ç¤º gdb æ”¯æŒä¸äº†çš„ä¸œè¥¿ï¼Œè¿™é‡Œä¸å†åšè¿‡å¤šè®²è§£ï¼Œæœ‰å…´è¶£çš„å¯ä»¥æŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"_7-æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-æ€»ç»“"}},[t._v("#")]),t._v(" 7. æ€»ç»“")]),t._v(" "),n("p",[t._v("å¯¹äº Go æ±‡ç¼–åŸºç¡€å¤§è‡´éœ€è¦ç†Ÿæ‚‰ä¸‹é¢å‡ ä¸ªæ–¹é¢ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("è¿›ç¨‹å†…å­˜å¸ƒå±€ï¼šè¿è¡Œæ—¶æ ˆã€è¿è¡Œæ—¶å †ã€æ•°æ®åŒºã€ä»£ç åŒº")]),t._v(" "),n("li",[t._v("æ ¸å¿ƒå¯„å­˜å™¨ï¼šPCã€FPã€SBã€SPã€BP ...")]),t._v(" "),n("li",[t._v("æ±‡ç¼–æ“ä½œæŒ‡ä»¤ï¼š"),n("code",[t._v("SUBQ")]),t._v("ã€"),n("code",[t._v("MOVQ")]),t._v("ã€"),n("code",[t._v("ADDQ")]),t._v("ã€"),n("code",[t._v("CALL")]),t._v("...")]),t._v(" "),n("li",[t._v("æ±‡ç¼–è¯­æ³•ï¼šå‡½æ•°ã€å˜é‡ ...")])]),t._v(" "),n("p",[t._v("å¸Œæœ›ä»¥ä¸Šä¾‹å­èƒ½å¤Ÿå¸®åŠ©ä½ äº†è§£ Go çš„æ±‡ç¼–ã€‚å½“ç„¶ï¼Œå¯¹äºå¤§éƒ¨åˆ†ä¸šåŠ¡å¼€å‘äººå‘˜æ¥è¯´ï¼Œåªè¦çœ‹çš„æ‡‚å³å¯ã€‚å¦‚æœæƒ³è¿›ä¸€æ­¥çš„äº†è§£ï¼Œå¯ä»¥é˜…è¯»ç›¸å…³çš„èµ„æ–™æˆ–è€…ä¹¦ç±ã€‚")]),t._v(" "),n("h2",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡çŒ®")]),t._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://github.com/cch123/golang-notes/blob/master/assembly.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Plan9 assembly"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://segmentfault.com/a/1190000019753885",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go å‡½æ•°è°ƒç”¨ -- æ ˆå’Œå¯„å­˜å™¨è§†è§’"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.davidwong.fr/goasm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go Assembly by Example"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/6844904005630443533#heading-3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Goç¨‹åºçš„è°ƒç”¨è§„çº¦"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/go-internals-cn/go-internals/blob/master/chapter1_assembly_primer/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¬¬ä¸€ç« : Go æ±‡ç¼–å…¥é—¨"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://lrita.github.io/2017/12/12/golang-asm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("golang æ±‡ç¼–"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chai2010.cn/advanced-go-programming-book/ch3-asm/ch3-01-basic.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go æ±‡ç¼–è¯­è¨€--3.1 å¿«é€Ÿå…¥é—¨"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);