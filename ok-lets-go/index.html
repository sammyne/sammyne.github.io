<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ 3ç§ç»„ç»‡Goä»£ç çš„æ–¹å¼ | sammyne</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Just playing around :)">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.49bc6dee.css" as="style"><link rel="preload" href="/assets/js/app.dd9aac12.js" as="script"><link rel="preload" href="/assets/js/3.3f52b992.js" as="script"><link rel="preload" href="/assets/js/1.86295094.js" as="script"><link rel="preload" href="/assets/js/48.b9824382.js" as="script"><link rel="prefetch" href="/assets/js/10.1038f603.js"><link rel="prefetch" href="/assets/js/11.96eec3c9.js"><link rel="prefetch" href="/assets/js/12.d28f2fe1.js"><link rel="prefetch" href="/assets/js/13.d7ab6196.js"><link rel="prefetch" href="/assets/js/14.051d7969.js"><link rel="prefetch" href="/assets/js/15.4ed924b6.js"><link rel="prefetch" href="/assets/js/16.677fbaaa.js"><link rel="prefetch" href="/assets/js/17.8a6b7ba1.js"><link rel="prefetch" href="/assets/js/18.79ea8cf4.js"><link rel="prefetch" href="/assets/js/19.3141bf59.js"><link rel="prefetch" href="/assets/js/20.deaa9f14.js"><link rel="prefetch" href="/assets/js/21.cbf78bb1.js"><link rel="prefetch" href="/assets/js/22.d6a5c657.js"><link rel="prefetch" href="/assets/js/23.f04a9f25.js"><link rel="prefetch" href="/assets/js/24.aa0b9a4f.js"><link rel="prefetch" href="/assets/js/25.e9b27a2a.js"><link rel="prefetch" href="/assets/js/26.6a774f88.js"><link rel="prefetch" href="/assets/js/27.ed0fc0f9.js"><link rel="prefetch" href="/assets/js/28.a397c3d7.js"><link rel="prefetch" href="/assets/js/29.bc4b043d.js"><link rel="prefetch" href="/assets/js/30.213d982d.js"><link rel="prefetch" href="/assets/js/31.017c6b4e.js"><link rel="prefetch" href="/assets/js/32.3c39cb85.js"><link rel="prefetch" href="/assets/js/33.2e35cafb.js"><link rel="prefetch" href="/assets/js/34.79a608bc.js"><link rel="prefetch" href="/assets/js/35.908be713.js"><link rel="prefetch" href="/assets/js/36.9c2eb74c.js"><link rel="prefetch" href="/assets/js/37.e2cb8a6e.js"><link rel="prefetch" href="/assets/js/38.3fccd1be.js"><link rel="prefetch" href="/assets/js/39.b9030e8d.js"><link rel="prefetch" href="/assets/js/4.427febfc.js"><link rel="prefetch" href="/assets/js/40.0f104398.js"><link rel="prefetch" href="/assets/js/41.b1c0ffa7.js"><link rel="prefetch" href="/assets/js/42.91d363cd.js"><link rel="prefetch" href="/assets/js/43.aa239f52.js"><link rel="prefetch" href="/assets/js/44.2546e0e4.js"><link rel="prefetch" href="/assets/js/45.10782dd7.js"><link rel="prefetch" href="/assets/js/46.3064f272.js"><link rel="prefetch" href="/assets/js/47.cf2d5859.js"><link rel="prefetch" href="/assets/js/49.cb939463.js"><link rel="prefetch" href="/assets/js/5.3ab3e749.js"><link rel="prefetch" href="/assets/js/50.56958abe.js"><link rel="prefetch" href="/assets/js/51.d109678d.js"><link rel="prefetch" href="/assets/js/52.ae4e6334.js"><link rel="prefetch" href="/assets/js/53.17db3a12.js"><link rel="prefetch" href="/assets/js/54.a44acc29.js"><link rel="prefetch" href="/assets/js/55.aeaaad9e.js"><link rel="prefetch" href="/assets/js/56.b42ebcb9.js"><link rel="prefetch" href="/assets/js/57.6a9e7d29.js"><link rel="prefetch" href="/assets/js/58.aa6443bc.js"><link rel="prefetch" href="/assets/js/59.3a8b21f1.js"><link rel="prefetch" href="/assets/js/6.78df9723.js"><link rel="prefetch" href="/assets/js/60.44967c94.js"><link rel="prefetch" href="/assets/js/61.d74cd6a2.js"><link rel="prefetch" href="/assets/js/62.e5817de7.js"><link rel="prefetch" href="/assets/js/63.9c45d434.js"><link rel="prefetch" href="/assets/js/64.7869c4d8.js"><link rel="prefetch" href="/assets/js/65.47ff3714.js"><link rel="prefetch" href="/assets/js/66.83077b8c.js"><link rel="prefetch" href="/assets/js/67.fa18d1cd.js"><link rel="prefetch" href="/assets/js/68.debb8be6.js"><link rel="prefetch" href="/assets/js/69.1d7114ab.js"><link rel="prefetch" href="/assets/js/7.42dd3861.js"><link rel="prefetch" href="/assets/js/70.9b795da4.js"><link rel="prefetch" href="/assets/js/71.2a904461.js"><link rel="prefetch" href="/assets/js/72.2aded41b.js"><link rel="prefetch" href="/assets/js/73.00835c21.js"><link rel="prefetch" href="/assets/js/74.4cb5389a.js"><link rel="prefetch" href="/assets/js/75.c76883ea.js"><link rel="prefetch" href="/assets/js/76.32345452.js"><link rel="prefetch" href="/assets/js/77.1b44d4ff.js"><link rel="prefetch" href="/assets/js/78.9f45beb3.js"><link rel="prefetch" href="/assets/js/79.703fe700.js"><link rel="prefetch" href="/assets/js/8.0b3d33ad.js"><link rel="prefetch" href="/assets/js/80.8a87e52f.js"><link rel="prefetch" href="/assets/js/81.8eee7c5f.js"><link rel="prefetch" href="/assets/js/82.cc434b65.js"><link rel="prefetch" href="/assets/js/83.14ef117a.js"><link rel="prefetch" href="/assets/js/84.ec74ac63.js"><link rel="prefetch" href="/assets/js/85.642fc847.js"><link rel="prefetch" href="/assets/js/86.d39032ec.js"><link rel="prefetch" href="/assets/js/87.b8ed6509.js"><link rel="prefetch" href="/assets/js/88.dc2dc95f.js"><link rel="prefetch" href="/assets/js/89.11a73f3f.js"><link rel="prefetch" href="/assets/js/9.4fb731d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49bc6dee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>sammyne</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>Just playing around :)</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>sammyne</span>
          Â Â 
          <span data-v-4e82dffc>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="sammyne" class="logo"> <span class="site-name">sammyne</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/dev/" class="nav-link"><i class="undefined"></i>
  dev
</a></li><li class="dropdown-item"><!----> <a href="/categories/crypto/" class="nav-link"><i class="undefined"></i>
  crypto
</a></li><li class="dropdown-item"><!----> <a href="/categories/programming/" class="nav-link"><i class="undefined"></i>
  programming
</a></li><li class="dropdown-item"><!----> <a href="/categories/tee/" class="nav-link"><i class="undefined"></i>
  tee
</a></li><li class="dropdown-item"><!----> <a href="/categories/os/" class="nav-link"><i class="undefined"></i>
  os
</a></li><li class="dropdown-item"><!----> <a href="/categories/engineering/" class="nav-link"><i class="undefined"></i>
  engineering
</a></li><li class="dropdown-item"><!----> <a href="/categories/tool/" class="nav-link"><i class="undefined"></i>
  tool
</a></li><li class="dropdown-item"><!----> <a href="/categories/language/" class="nav-link"><i class="undefined"></i>
  language
</a></li><li class="dropdown-item"><!----> <a href="/categories/decentralization/" class="nav-link"><i class="undefined"></i>
  decentralization
</a></li><li class="dropdown-item"><!----> <a href="/categories/architecture/" class="nav-link"><i class="undefined"></i>
  architecture
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/software engineering/" class="nav-link"><i class="undefined"></i>
  software engineering
</a></li><li class="dropdown-item"><!----> <a href="/categories/notes/" class="nav-link"><i class="undefined"></i>
  notes
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div><div class="nav-item"><a href="https://github.com/sammyne" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    sammyne
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>79</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>43</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/dev/" class="nav-link"><i class="undefined"></i>
  dev
</a></li><li class="dropdown-item"><!----> <a href="/categories/crypto/" class="nav-link"><i class="undefined"></i>
  crypto
</a></li><li class="dropdown-item"><!----> <a href="/categories/programming/" class="nav-link"><i class="undefined"></i>
  programming
</a></li><li class="dropdown-item"><!----> <a href="/categories/tee/" class="nav-link"><i class="undefined"></i>
  tee
</a></li><li class="dropdown-item"><!----> <a href="/categories/os/" class="nav-link"><i class="undefined"></i>
  os
</a></li><li class="dropdown-item"><!----> <a href="/categories/engineering/" class="nav-link"><i class="undefined"></i>
  engineering
</a></li><li class="dropdown-item"><!----> <a href="/categories/tool/" class="nav-link"><i class="undefined"></i>
  tool
</a></li><li class="dropdown-item"><!----> <a href="/categories/language/" class="nav-link"><i class="undefined"></i>
  language
</a></li><li class="dropdown-item"><!----> <a href="/categories/decentralization/" class="nav-link"><i class="undefined"></i>
  decentralization
</a></li><li class="dropdown-item"><!----> <a href="/categories/architecture/" class="nav-link"><i class="undefined"></i>
  architecture
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/software engineering/" class="nav-link"><i class="undefined"></i>
  software engineering
</a></li><li class="dropdown-item"><!----> <a href="/categories/notes/" class="nav-link"><i class="undefined"></i>
  notes
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div><div class="nav-item"><a href="https://github.com/sammyne" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ 3ç§ç»„ç»‡Goä»£ç çš„æ–¹å¼</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>sammyne</span>
          Â Â 
          <span data-v-4e82dffc>2020 - </span>
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ 3ç§ç»„ç»‡Goä»£ç çš„æ–¹å¼</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>sammyne</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>7/13/2019</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/ok-lets-go/" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>golang</span></i></div></div> <div class="theme-reco-content content__default"><blockquote><p>åŸæ–‡ï¼šhttps://www.perimeterx.com/blog/ok-lets-go/</p></blockquote> <p>Goè¯­è¨€å‘å¸ƒäº2009å¹´å°¾ï¼Œ2012å¹´æ­£å¼å‘å¸ƒï¼Œä½†çœŸæ­£å¼•èµ·å…³æ³¨æ˜¯åœ¨æœ€è¿‘å‡ å¹´ã€‚å®ƒæ˜¯<a href="https://github.blog/2018-11-15-state-of-the-octoverse-top-programming-languages/" target="_blank" rel="noopener noreferrer">2018å¹´å¢é•¿æœ€å¿«çš„è¯­è¨€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¹‹ä¸€ï¼Œä¸”æ˜¯<a href="https://insights.stackoverflow.com/survey/2019#most-loved-dreaded-and-wanted" target="_blank" rel="noopener noreferrer">2019å¹´ä¸‰å¤§æœ€å—å–œçˆ±çš„ç¼–ç¨‹è¯­è¨€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¹‹ä¸€ã€‚</p> <p>ä½œä¸ºåˆç”Ÿç‰›çŠŠä¸€æšï¼ŒGoç¤¾åŒºå°šæœªä¸¥è‚ƒå¯¹å¾…ç¼–ç è§„èŒƒã€‚æ”¾çœ¼æ¯”Goé•¿ä¹…çš„Javaç­‰ç¤¾åŒºçš„ç¼–ç ä¼ ç»Ÿï¼Œä¼šå‘ç°å®ƒä»¬çš„å¤§å¤šæ•°é¡¹ç›®éƒ½æœ‰ç±»ä¼¼çš„ç»“æ„ã€‚è¿™å¯¹ä»˜å¤§å‹ä»£ç åº“éå¸¸æœ‰æ•ˆï¼Œä½†å¾ˆå¤šäººè®¤ä¸ºè¿™å¯¹å½“ä»£ç”¨ä¾‹æ¥è¯´ï¼Œè¿™æ˜¯ä¸åˆ©äºæé«˜ç”Ÿäº§åŠ›çš„ã€‚åœ¨å¾®å‹ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ç»´æŠ¤å°å‹ä»£ç åº“æ—¶ï¼ŒGoåœ¨é¡¹ç›®ç»“æ„æ–¹é¢çš„çµæ´»æ€§å¯ä»¥å®ç°å¾ˆå¤šç‰¹æ€§ã€‚</p> <p>å¯¹æ¯”<a href="https://yourbasic.org/golang/http-server-example/" target="_blank" rel="noopener noreferrer">Golangçš„hello world httpä¾‹å­<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å’Œè¯¸å¦‚<a href="https://www.javacodex.com/Networking/Simple-HTTP-Server" target="_blank" rel="noopener noreferrer">Java<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ç­‰å…¶ä»–è¯­è¨€ï¼Œä¸¤è€…åœ¨å¤æ‚æ€§å’Œä»£ç é‡æ–¹é¢æ²¡æœ‰æ˜¾è‘—åŒºåˆ«ã€‚ä½†æ˜¯ï¼ŒGoåˆ™æ˜æ˜¾åœ°é¼“åŠ±æˆ‘ä»¬--<strong>å°½å¯èƒ½åœ°å†™ç®€æ´çš„ä»£ç </strong>ã€‚å¿½ç•¥Javaçš„é¢å‘å¯¹è±¡ï¼Œä¸ªäººè§‰å¾—è¿™äº›ä»£ç ç‰‡æ®µè¡¨æ˜ï¼šJavaè¦æ±‚ä¸ºæ¯é¡¹æ“ä½œåˆ›å»ºä¸“ç”¨å®ä¾‹ï¼ˆ<code>HttpServer</code>å®ä¾‹ï¼‰ï¼Œè€ŒGoåˆ™ä¼šæ¨å´‡å…¨å±€å•ä¾‹ã€‚</p> <p>è¿™æ„å‘³ç€æ›´å°‘ä»£ç éœ€è¦ç»´æŠ¤ï¼Œæ›´å°‘å¼•ç”¨åˆ°å¤„é£ã€‚å¦‚æœé¢„çŸ¥åªä¼šç”¨åˆ°ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆé€šå¸¸å¦‚æ­¤ï¼‰ï¼Œä½•å¿…å¦‚æ­¤å¤§è´¹å‘¨ç« å‘¢ï¼Ÿéšç€ä»£ç é‡çš„å¢é•¿ï¼Œæ­¤é¡¹ç†å¿µçš„å¼ºå¤§ä¹‹å¤„è¶Šä¼šæ˜æ˜¾ã€‚ç„¶åï¼Œè·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ğŸ˜©ã€‚ä¸åŒå±‚æ¬¡çš„æŠ½è±¡æœ‰å¾…å•†æ¦·ï¼Œè€Œé”™è¯¯çš„é€‰æ‹©ä¼šå¼•å…¥ä¸¥é‡çš„ç¼ºç‚¹ã€‚</p> <p>è«æ…Œï¼ŒPerimeterXæ¥ç›¸åŠ©ï¼</p> <p>æœ¬æ–‡é‡ç‚¹ä»‹ç»ç»„ç»‡ä»£ç ç»“æ„çš„3ç§æ–¹å¼ï¼Œæ¯ç§æ–¹å¼å¯¹åº”ä¸åŒæŠ½è±¡å±‚æ¬¡ã€‚ç„¶åæ¯”è¾ƒå®ƒä»¬å¹¶è¯´æ˜å„è‡ªçš„é€‚ç”¨åœºæ™¯ã€‚</p> <p>ç°æœ‰éœ€æ±‚å®ç°ä¸€ä¸ªHTTPæœåŠ¡å™¨ç»´æŠ¤ç”¨æˆ·ä¿¡æ¯ï¼ˆå¯¹åº”ä¸‹å›¾çš„Main DBï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªç”¨æˆ·å…·æœ‰ä¸åŒè§’è‰²ï¼ˆä¾‹å¦‚ï¼Œæ™®é€šã€ä»²è£è€…ã€ç®¡ç†å‘˜ç­‰ï¼‰ï¼Œå¤–åŠ ä¸€ä¸ªæ•°æ®åº“ï¼ˆä¸‹å›¾çš„Configuration DBï¼‰å­˜å‚¨æ¯ç§è§’è‰²çš„ä¸åŒæƒé™ï¼ˆä¾‹å¦‚ï¼Œè¯»ã€å†™ï¼Œç¼–è¾‘ç­‰ï¼‰ã€‚è¿™ä¸ªHTTPæœåŠ¡å™¨åº”æä¾›æŸ¥è¯¢ç»™å®šç”¨æˆ·IDæ‰€å¯¹åº”æƒé™çš„æ¥å£ã€‚</p> <p><img src="/assets/img/http-server.25b8f73d.png" alt="HTTPæœåŠ¡å™¨"></p> <p>è¿›ä¸€æ­¥å‡è®¾configuration DBå˜åŒ–éå¸¸ä¸é¢‘ç¹ä¸”åŠ è½½å¾ˆæ…¢ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æƒ³è¦å°†å…¶ç»´æŠ¤åœ¨å†…å­˜é‡Œé¢ï¼ŒæœåŠ¡å™¨å¯åŠ¨å®Œæˆå³åŠ è½½ï¼Œç„¶åæ¯å°æ—¶åˆ·æ–°ä¸€æ¬¡ã€‚</p> <p>å…¨éƒ¨ä»£ç åœ¨<a href="https://github.com/PerimeterX/ok-lets-go" target="_blank" rel="noopener noreferrer">æœ¬æ–‡çš„Githubä»“åº“<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…"><a href="#æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…" class="header-anchor">#</a> æ–¹å¼1ï¼šä¸€ä¸ªå¤§åŒ…</h2> <p>ä¸€ä¸ªå¤§åŒ…çš„æ–¹å¼è¡¨ç°ä¸ºæ‰å¹³ç»“æ„ï¼Œæ•´ä¸ªæœåŠ¡å™¨å…¨éƒ¨åœ¨ä¸€ä¸ªåŒ…å†…å®ç°ã€‚<a href="https://github.com/PerimeterX/ok-lets-go/tree/master/1-single-package" target="_blank" rel="noopener noreferrer">å®Œæ•´ä»£ç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <div class="custom-block tip"><p class="title"></p><p>æ³¨æ„å•¦ï¼šä»£ç ç‰‡æ®µçš„æ³¨é‡Šå¯¹ç†è§£æ¯ç§æ–¹å¼å°¤å…¶é‡è¦ã€‚</p></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/1-single-package/main.go" target="_blank" rel="noopener noreferrer">main.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// As noted above, since we plan to only have one instance</span>
<span class="token comment">// for those 3 services, we'll declare a singleton instance,</span>
<span class="token comment">// and make sure we only use them to access those services.</span>
<span class="token keyword">var</span> <span class="token punctuation">(</span>
    userDBInstance   userDB
    configDBInstance configDB
    rolePermissions  <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Our singleton instances will later be assumed</span>
    <span class="token comment">// initialized, it is the initiator's responsibility</span>
    <span class="token comment">// to initialize them. </span>
    <span class="token comment">// The main function will do it with concrete</span>
    <span class="token comment">// implementation, and test cases, if we plan to</span>
    <span class="token comment">// have those, may use mock implementations instead.</span>
    userDBInstance <span class="token operator">=</span> <span class="token operator">&amp;</span>someUserDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    configDBInstance <span class="token operator">=</span> <span class="token operator">&amp;</span>someConfigDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">initPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> UserPermissionsByID<span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// This will keep our permissions up to date in memory.</span>
<span class="token keyword">func</span> <span class="token function">initPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    rolePermissions <span class="token operator">=</span> configDBInstance<span class="token punctuation">.</span><span class="token function">allPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">{</span>
            time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>
            rolePermissions <span class="token operator">=</span> configDBInstance<span class="token punctuation">.</span><span class="token function">allPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/1-single-package/database.go" target="_blank" rel="noopener noreferrer">database.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token comment">// We use interfaces as the types of our database instances</span>
<span class="token comment">// to make it possible to write tests and use mock implementations.</span>
<span class="token keyword">type</span> userDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">userRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// Note the naming `someConfigDB`. In actual cases we use</span>
<span class="token comment">// some DB implementation and name our structs accordingly.</span>
<span class="token comment">// For example, if we use MongoDB, we name our concrete</span>
<span class="token comment">// struct `mongoConfigDB`. If used in test cases,</span>
<span class="token comment">// a `mockConfigDB` can be declared, too.</span>
<span class="token keyword">type</span> someUserDB <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>someUserDB<span class="token punctuation">)</span> <span class="token function">userRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// Omitting the implementation details for clarity...</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> configDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">allPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token comment">// maps from role to its permissions</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> someConfigDB <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>someConfigDB<span class="token punctuation">)</span> <span class="token function">allPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/1-single-package/handler.go" target="_blank" rel="noopener noreferrer">handler.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">UserPermissionsByID</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id <span class="token operator">:=</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    role <span class="token operator">:=</span> userDBInstance<span class="token punctuation">.</span><span class="token function">userRoleByID</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    permissions <span class="token operator">:=</span> rolePermissions<span class="token punctuation">[</span>role<span class="token punctuation">]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Fprint</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>permissions<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>æ¸©é¦¨æç¤ºï¼šä¸åŒåŠŸèƒ½å¯ä»¥é€šè¿‡ä¸åŒæ–‡ä»¶æ¥åŒºåˆ†ï¼Œä½¿ä»£ç æ›´åŠ æ˜“è¯»ä¸”åˆ©äºç»´æŠ¤ã€‚</p></blockquote> <h2 id="æ–¹å¼2-ç»„åˆåŒ…"><a href="#æ–¹å¼2-ç»„åˆåŒ…" class="header-anchor">#</a> æ–¹å¼2ï¼šç»„åˆåŒ…</h2> <p>è¿™ç§æ–¹å¼å¼•å…¥ä¸åŒåŒ…ã€‚æ¯ä¸ªåŒ…åº”å”¯ä¸€è´Ÿè´£æŸç§è¡Œä¸ºçš„å®ç°ã€‚æ­¤æ—¶ï¼ŒåŒ…ä¹‹é—´å…è®¸æœ‰æ‰€äº¤äº’ï¼Œä»¥ç»´æŠ¤æ›´å°‘ä»£ç ã€‚åŒæ—¶ï¼ŒèŒè´£åˆ’åˆ†åŸåˆ™åº”å¾—åˆ°éµå¾ªä»¥ç¡®ä¿æ¯ä¸ªæµç¨‹åœ¨å”¯ä¸€çš„åŒ…å†…å®ç°ã€‚è¿™ç§æ–¹å¼çš„å¦ä¸€ä¸ªä¸»è¦äº‹é¡¹æ˜¯ï¼šGoä¸å…è®¸åŒ…ä¹‹é—´çš„å¾ªç¯å¼•ç”¨ï¼Œ<strong>æ¥å£</strong>å’Œ<strong>å•ä¾‹</strong>çš„å®šä¹‰éœ€è¦æ”¾åˆ°ä¸€ä¸ª<strong>ä¸­æ€§åŒ…</strong>ï¼Œä»è€Œé¿å…ä»£ç çš„å¾ªç¯ä¾èµ–ã€‚<a href="https://github.com/PerimeterX/ok-lets-go/tree/master/2-coupled-packages" target="_blank" rel="noopener noreferrer">å®Œæ•´ä»£ç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/main.go" target="_blank" rel="noopener noreferrer">main.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token comment">// Note how the main package is the only one importing</span>
<span class="token comment">// packages other than the definition package.</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/myproject/config&quot;</span>
    <span class="token string">&quot;github.com/myproject/database&quot;</span>
    <span class="token string">&quot;github.com/myproject/definition&quot;</span>
    <span class="token string">&quot;github.com/myproject/handler&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This approach also uses singleton instances, and</span>
    <span class="token comment">// again it's the initiator's responsibility to make</span>
    <span class="token comment">// sure they're initialized.</span>
    definition<span class="token punctuation">.</span>UserDBInstance <span class="token operator">=</span> <span class="token operator">&amp;</span>database<span class="token punctuation">.</span>SomeUserDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    definition<span class="token punctuation">.</span>ConfigDBInstance <span class="token operator">=</span> <span class="token operator">&amp;</span>database<span class="token punctuation">.</span>SomeConfigDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    config<span class="token punctuation">.</span><span class="token function">InitPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">.</span>UserPermissionsByID<span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/definition/database.go" target="_blank" rel="noopener noreferrer">/definition/database.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> definition

<span class="token comment">// Note that in this approach both the singleton instance</span>
<span class="token comment">// and its interface type are declared in the definition</span>
<span class="token comment">// package. Make sure this package does not contain any</span>
<span class="token comment">// logic, otherwise it might need to import other packages</span>
<span class="token comment">// and its neutral nature is compromised.</span>
<span class="token keyword">var</span> <span class="token punctuation">(</span>
    UserDBInstance   UserDB
    ConfigDBInstance ConfigDB
<span class="token punctuation">)</span>

<span class="token keyword">type</span> UserDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> ConfigDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token comment">// maps from role to its permissions</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/definition/config.go" target="_blank" rel="noopener noreferrer">/definition/config.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> definition

<span class="token keyword">var</span> RolePermissions <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/database/user.go" target="_blank" rel="noopener noreferrer">/database/user.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> database

<span class="token keyword">type</span> SomeUserDB <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>SomeUserDB<span class="token punctuation">)</span> <span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/database/config.go" target="_blank" rel="noopener noreferrer">/database/config.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> database

<span class="token keyword">type</span> SomeConfigDB <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>SomeConfigDB<span class="token punctuation">)</span> <span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/config/permissions.go" target="_blank" rel="noopener noreferrer">/config/permissions.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> config

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/myproject/definition&quot;</span>
    <span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// Since the definition package must not contain any logic,</span>
<span class="token comment">// managing configuration is implemented in a config package.</span>
<span class="token keyword">func</span> <span class="token function">InitPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    definition<span class="token punctuation">.</span>RolePermissions <span class="token operator">=</span> definition<span class="token punctuation">.</span>ConfigDBInstance<span class="token punctuation">.</span><span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">{</span>
            time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>
            definition<span class="token punctuation">.</span>RolePermissions <span class="token operator">=</span> definition<span class="token punctuation">.</span>ConfigDBInstance<span class="token punctuation">.</span><span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/2-coupled-packages/handler/user_permissions_by_id.go" target="_blank" rel="noopener noreferrer">/handler/user_permissions_by_id.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> handler

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;github.com/myproject/definition&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">UserPermissionsByID</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id <span class="token operator">:=</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    role <span class="token operator">:=</span> definition<span class="token punctuation">.</span>UserDBInstance<span class="token punctuation">.</span><span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    permissions <span class="token operator">:=</span> definition<span class="token punctuation">.</span>RolePermissions<span class="token punctuation">[</span>role<span class="token punctuation">]</span>
    fmt<span class="token punctuation">.</span><span class="token function">Fprint</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>permissions<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="æ–¹å¼3-ç‹¬ç«‹åŒ…"><a href="#æ–¹å¼3-ç‹¬ç«‹åŒ…" class="header-anchor">#</a> æ–¹å¼3ï¼šç‹¬ç«‹åŒ…</h2> <p>è¿™ç§æ–¹å¼ä¹Ÿä¼šå°†é¡¹ç›®ç»„ç»‡æˆåŒ…ã€‚æ¯ä¸ªåŒ…å¿…é¡»<strong>å±€éƒ¨åœ°</strong>å£°æ˜æ‰€ä¾èµ–çš„<strong>æ¥å£</strong>å’Œ<strong>å˜é‡</strong>ï¼Œ<strong>æ— é¡»æ„ŸçŸ¥å…¶ä»–åŒ…çš„å­˜åœ¨</strong>ã€‚æŒ‰ç…§è¿™ç§æ–¹å¼ï¼Œå‰ä¸€ç§æ–¹å¼ç”¨äºå®šä¹‰çš„åŒ…å®é™…ä¸Šè¢«åˆ†æ•£åˆ°æ‰€æœ‰åŒ…ï¼›æ¯ä¸ªåŒ…å£°æ˜è‡ªå·±æ‰€éœ€æœåŠ¡çš„æ¥å£ã€‚å’‹ä¸€çœ‹ä¼šè§‰å¾—è¿™äº›é‡å¤æœ‰äº›çƒ¦ï¼Œäº‹å®å¹¶éå¦‚æ­¤ã€‚æ¯ä¸ªç”¨åˆ°å¤–éƒ¨æœåŠ¡çš„åŒ…è‡ªå·±å®šä¹‰æ¥å£ï¼Œ<strong>å£°æ˜æ‰€éœ€æ¥å£</strong>ï¼Œè€Œå¿½ç•¥å…¶ä»–æ— å…³æ¥å£ã€‚<a href="https://github.com/PerimeterX/ok-lets-go/tree/master/3-independent-packages" target="_blank" rel="noopener noreferrer">å®Œæ•´ä»£ç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/3-independent-packages/main.go" target="_blank" rel="noopener noreferrer">main.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token comment">// Note how the main package is the only one importing</span>
<span class="token comment">// other local packages.</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/myproject/config&quot;</span>
    <span class="token string">&quot;github.com/myproject/database&quot;</span>
    <span class="token string">&quot;github.com/myproject/handler&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    userDB <span class="token operator">:=</span> <span class="token operator">&amp;</span>database<span class="token punctuation">.</span>SomeUserDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    configDB <span class="token operator">:=</span> <span class="token operator">&amp;</span>database<span class="token punctuation">.</span>SomeConfigDB<span class="token punctuation">{</span><span class="token punctuation">}</span>
    permissionStorage <span class="token operator">:=</span> config<span class="token punctuation">.</span><span class="token function">NewPermissionStorage</span><span class="token punctuation">(</span>configDB<span class="token punctuation">)</span>
    h <span class="token operator">:=</span> <span class="token operator">&amp;</span>handler<span class="token punctuation">.</span>UserPermissionsByID<span class="token punctuation">{</span>UserDB<span class="token punctuation">:</span> userDB<span class="token punctuation">,</span> PermissionsStorage<span class="token punctuation">:</span> permissionStorage<span class="token punctuation">}</span>
    http<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> h<span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/3-independent-packages/database/user.go" target="_blank" rel="noopener noreferrer">/database/user.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> database

<span class="token keyword">type</span> SomeUserDB <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>SomeUserDB<span class="token punctuation">)</span> <span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/3-independent-packages/database/config.go" target="_blank" rel="noopener noreferrer">/database/config.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> database

<span class="token keyword">type</span> SomeConfigDB <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>SomeConfigDB<span class="token punctuation">)</span> <span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementation</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/3-independent-packages/config/permissions.go" target="_blank" rel="noopener noreferrer">/config/permissions.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> config

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// Here we declare an interface representing our local</span>
<span class="token comment">// needs from the configuration db, namely,</span>
<span class="token comment">// the `AllPermissions` method.</span>
<span class="token keyword">type</span> PermissionDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token comment">// maps from role to its permissions</span>
<span class="token punctuation">}</span>

<span class="token comment">// Then we export a service than will provide the</span>
<span class="token comment">// permissions from memory, to use it, another package</span>
<span class="token comment">// will have to declare a local interface.</span>
<span class="token keyword">type</span> PermissionStorage <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    permissions <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">NewPermissionStorage</span><span class="token punctuation">(</span>db PermissionDB<span class="token punctuation">)</span> <span class="token operator">*</span>PermissionStorage <span class="token punctuation">{</span>
    s <span class="token operator">:=</span> <span class="token operator">&amp;</span>PermissionStorage<span class="token punctuation">{</span><span class="token punctuation">}</span>
    s<span class="token punctuation">.</span>permissions <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">{</span>
            time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>
            s<span class="token punctuation">.</span>permissions <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">AllPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> s
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s <span class="token operator">*</span>PermissionStorage<span class="token punctuation">)</span> <span class="token function">RolePermissions</span><span class="token punctuation">(</span>role <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span>permissions<span class="token punctuation">[</span>role<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><a href="https://github.com/PerimeterX/ok-lets-go/blob/master/3-independent-packages/handler/user_permissions_by_id.go" target="_blank" rel="noopener noreferrer">/handler/user_permissions_by_id.go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> handler

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// Declaring our local needs from the user db instance,</span>
<span class="token keyword">type</span> UserDB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// ... and our local needs from the in memory permission storage.</span>
<span class="token keyword">type</span> PermissionStorage <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">RolePermissions</span><span class="token punctuation">(</span>role <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// Lastly, our handler cannot be purely functional,</span>
<span class="token comment">// since it requires references to non singleton instances.</span>
<span class="token keyword">type</span> UserPermissionsByID <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    UserDB             UserDB
    PermissionsStorage PermissionStorage
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>u <span class="token operator">*</span>UserPermissionsByID<span class="token punctuation">)</span> <span class="token function">ServeHTTP</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    id <span class="token operator">:=</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    role <span class="token operator">:=</span> u<span class="token punctuation">.</span>UserDB<span class="token punctuation">.</span><span class="token function">UserRoleByID</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    permissions <span class="token operator">:=</span> u<span class="token punctuation">.</span>PermissionsStorage<span class="token punctuation">.</span><span class="token function">RolePermissions</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Fprint</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>permissions<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>è‡³æ­¤ï¼Œ3ç§ä¸åŒæŠ½è±¡ç¨‹åº¦çš„æ–¹å¼å°±ä»‹ç»å®Œäº†ï¼šç¬¬ä¸€ç§æœ€ä¸ºç®€ç»ƒï¼Œä½¿ç”¨å…¨å±€çŠ¶æ€é‡å’Œç´§å¯†è€¦åˆçš„é€»è¾‘ï¼Œæä¾›æœ€å¿«çš„å®ç°ä¸æœ€å°‘ç¼–å†™å’Œç»´æŠ¤çš„ä»£ç ï¼›ç¬¬äºŒç§æ–¹å¼æ˜¯ä¸ªæ··è¡€å„¿ï¼›è€Œç¬¬3ç§åˆ™å®Œå…¨è§£è€¦å’Œå¯é‡ç”¨ï¼Œä½†æ˜¯è¦æ±‚æœ€å¤šç»´æŠ¤çš„ç²¾åŠ›ã€‚</p> <h2 id="ä¼˜ç¼ºç‚¹å¯¹æ¯”"><a href="#ä¼˜ç¼ºç‚¹å¯¹æ¯”" class="header-anchor">#</a> ä¼˜ç¼ºç‚¹å¯¹æ¯”</h2> <h3 id="æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…-2"><a href="#æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…-2" class="header-anchor">#</a> æ–¹å¼1ï¼šä¸€ä¸ªå¤§åŒ…</h3> <ul><li>ä¼˜ç‚¹
<ul><li>ä»£ç æœ€å°‘ï¼Œèƒ½å¤Ÿæ›´å¿«åœ°å®ç°ï¼Œç»´æŠ¤é‡ä¹Ÿå°‘</li> <li>æ²¡æœ‰å…¶ä»–åŒ…ä¹Ÿå°±æ„å‘³ç€æ— é¡»æ‹…å¿ƒå¾ªç¯ä¾èµ–çš„é—®é¢˜</li> <li>æœåŠ¡å‹æ¥å£çš„å­˜åœ¨åˆ©äºæµ‹è¯•ã€‚æµ‹è¯•éƒ¨åˆ†é€»è¾‘ç‰‡æ®µæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»»æ„ï¼ˆå…·ä½“æˆ–ä»¿é€ çš„ï¼‰å®ç°çš„å•ä¾‹ï¼Œå³å¯å®Œæˆæµ‹è¯•</li></ul></li> <li>ç¼ºç‚¹
<ul><li>ä¸€ä¸ªåŒ…æ„å‘³ç€æ²¡æœ‰ç§æœ‰è®¿é—®é™åˆ¶ï¼Œæ‰€æœ‰å˜é‡å…¨å±€å¯è§ï¼Œæ­£ç¡®é€»è¾‘çš„å®ç°å¯¹å¼€å‘è€…è¦æ±‚æ›´é«˜ã€‚è­¬å¦‚ï¼Œéœ€è¦æ„é€ å‡½æ•°æ¥æ‰§è¡Œä¸€äº›åˆå§‹åŒ–é€»è¾‘æ—¶ï¼Œè°¨è®°ä¸è¦ç›´æ¥å®ä¾‹åŒ–ç»“æ„ä½“</li> <li>å…¨å±€çŠ¶æ€ï¼ˆå•ä¾‹ï¼‰å¯èƒ½æ— æ³•æ»¡è¶³ä¸€äº›å‡è®¾ã€‚ä¾‹å¦‚ï¼Œæœªåˆå§‹åŒ–å•ä¾‹ä¼šåœ¨è¿è¡Œæ—¶è§¦å‘ç©ºæŒ‡é’ˆå¼‚å¸¸</li> <li>ç´§è€¦åˆçš„é€»è¾‘ä½¿å¾—æ— æ³•ä»è¿™ä¸ªé¡¹ç›®æç‚¼æˆ–é‡ç”¨ä»»ä½•ä¸œè¥¿</li> <li>æ²¡æœ‰åˆ†åŒ…ç‹¬ç«‹ç®¡ç†ä¸åŒé€»è¾‘ç‰‡æ®µæ„å‘³ç€å¼€å‘è€…å¿…é¡»éå¸¸è´Ÿè´£åœ°æ­£ç¡®éƒ¨ç½²æ¯æ®µä»£ç ï¼Œå¦åˆ™æ— æ³•ä¿è¯é¢„æœŸè¡Œä¸º</li></ul></li></ul> <h3 id="æ–¹å¼2-ç»„åˆåŒ…-2"><a href="#æ–¹å¼2-ç»„åˆåŒ…-2" class="header-anchor">#</a> æ–¹å¼2ï¼šç»„åˆåŒ…</h3> <ul><li>ä¼˜ç‚¹
<ul><li>é¡¹ç›®åˆ†åŒ…æœ‰åŠ©äºæˆ‘ä»¬ç»†åŒ–æ¯ä¸ªåŒ…æ‰€éœ€è´Ÿè´£çš„é€»è¾‘ï¼Œä¸”æœ‰ç¼–è¯‘å™¨å¼ºåˆ¶æ‰§è¡Œã€‚è€Œä¸”ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç§æœ‰å˜é‡å’Œæœ‰æ§åˆ¶åœ°é€‰æ‹©æš´éœ²çš„æ¥å£</li> <li>å®šä¹‰åŒ…çš„ä½¿ç”¨åœ¨é¿å…å¾ªç¯ä¾èµ–çš„åŒæ—¶ä½¿å¾—å•ä¾‹æˆä¸ºå¯èƒ½ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç¼–å†™æ›´å°‘ä»£ç ï¼Œé¿å…å¤„ç†å®ä¾‹çš„å¼•ç”¨ä¼ é€’ï¼Œæ— é¡»æµªè´¹æ—¶é—´è§£å†³å¯èƒ½çš„ç¼–è¯‘é—®é¢˜</li> <li>æœåŠ¡å‹æ¥å£çš„å­˜åœ¨ä¹Ÿä½¿å¾—è¿™ç§æ–¹å¼åˆ©äºæµ‹è¯•ã€‚æ¯ä¸ªåŒ…éƒ½èƒ½å¤Ÿç‹¬ç«‹åœ°è¿›è¡Œæµ‹è¯•</li></ul></li> <li>ç¼ºç‚¹
<ul><li>ç»„ç»‡åŒ…æ¯”è¾ƒéº»çƒ¦ï¼Œåˆå§‹å®ç°å¯èƒ½ä¼šæ¯”â€œä¸€ä¸ªå¤§åŒ…â€çš„æ–¹å¼æ¥å¾—æ…¢</li> <li>å…¨å±€å˜é‡ï¼ˆå•ä¾‹ï¼‰çš„ä½¿ç”¨ä¹Ÿæœ‰é—®é¢˜</li> <li>é¡¹ç›®åˆ†æ•£æˆåŒ…ï¼Œæ›´åŠ åˆ©äºæç‚¼å’Œé‡ç”¨é€»è¾‘ã€‚ä½†æ˜¯ï¼Œéœ€è¦ä¸å®šä¹‰åŒ…æœ‰äº¤é›†ä½¿å¾—è¿™äº›åŒ…å¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œæç‚¼ä»£ç å’Œå®ç°é‡ç”¨ä¸æ˜¯å®Œå…¨è‡ªåŠ¨åŒ–çš„</li></ul></li></ul> <h3 id="æ–¹å¼3-ç‹¬ç«‹åŒ…-2"><a href="#æ–¹å¼3-ç‹¬ç«‹åŒ…-2" class="header-anchor">#</a> æ–¹å¼3ï¼šç‹¬ç«‹åŒ…</h3> <ul><li>ä¼˜ç‚¹
<ul><li>åˆ†åŒ…æœ‰åŠ©äºæˆ‘ä»¬å°†å®ç°ä¸åŒé€»è¾‘çš„è´Ÿæ‹…åˆ†æ•£åˆ°ä¸åŒåŒ…ï¼Œå¹¶å®ç°è®¿é—®æ§åˆ¶</li> <li>åŒ…ä¹‹é—´ç›¸äº’ç‹¬ç«‹ä¹Ÿå°±æ„å‘³ç€æ²¡æœ‰æ½œåœ¨çš„å¾ªç¯å¼•ç”¨é—®é¢˜</li> <li>æ‰€æœ‰åŒ…éƒ½æ˜¯å®Œå…¨å¯ä»¥æç‚¼å’Œé‡ç”¨çš„ã€‚åªè¦å…¶ä»–é¡¹ç›®éœ€è¦ï¼Œä»»ä½•ä¸€ä¸ªåŒ…éƒ½å¯ä»¥ç®€å•åœ°è¿ç§»åˆ°å…±äº«çš„ä½ç½®åï¼Œæ— é¡»ä»»ä½•æ›´æ”¹å³å¯ä½¿ç”¨</li> <li>æ²¡æœ‰å…¨å±€çŠ¶æ€ä¹Ÿå°±æ„å‘³ç€ä¸ä¼šæœ‰éé¢„æœŸè¡Œä¸º</li> <li>è¿™ç§æ–¹å¼æœ€ä¾¿äºæµ‹è¯•ã€‚å±€éƒ¨æ¥å£çš„å­˜åœ¨ä½¿å¾—æ¯ä¸ªåŒ…æ— æ³•ä¾èµ–å…¶ä»–åŒ…å°±å¯ä»¥å®Œæˆæµ‹è¯•</li></ul></li> <li>ç¼ºç‚¹
<ul><li>å®ç°é€Ÿåº¦è¦æ¯”å‰ä¸¤ç§æ–¹å¼æ…¢</li> <li>ç»´æŠ¤å·¥ä½œé‡æœ‰æ‰€åŠ å¤§ã€‚éœ€è¦ä½œå‡ºé‡å¤§æ›´å˜æ—¶ï¼Œå¼•ç”¨ä¼ é€’æ„å‘³ç€å¾ˆå¤šåœ°æ–¹éœ€è¦æ›´æ–°ã€‚è€Œä¸”å…·æœ‰å¤šä¸ªæ¥å£è¡¨ç¤ºåŒä¸€æœåŠ¡æ„å‘³ç€å¯¹æœåŠ¡çš„ä¸€é¡¹å˜æ›´ä¼šè§¦å‘å…¨éƒ¨æ¥å£</li></ul></li></ul> <h2 id="æ€»ç»“å’Œç”¨ä¾‹åˆ†æ"><a href="#æ€»ç»“å’Œç”¨ä¾‹åˆ†æ" class="header-anchor">#</a> æ€»ç»“å’Œç”¨ä¾‹åˆ†æ</h2> <p>ç¼ºä¹ç¤¾åŒºæŒ‡å¯¼ï¼ŒGoä»£ç åº“çš„ç»“æ„å¤šæ ·ï¼Œå„æœ‰ä¼˜ç‚¹ã€‚ä½†æ˜¯ï¼Œ<strong>æ··ç”¨ä¸åŒè®¾è®¡æ¨¡å¼ä¼šå¼•å…¥ä¸å°‘é—®é¢˜</strong>ã€‚ä¸ºäº†ç»„ç»‡Goä»£ç ï¼Œæœ¬æ–‡ä»‹ç»äº†ç¼–å†™å’Œç»„ç»‡Goä»£ç çš„3ç§ä¸åŒæ–¹å¼ã€‚</p> <p>è‡³äºä½•æ—¶ä½•åœ°ä½¿ç”¨ä½•ç§æ–¹å¼ï¼Œå»ºè®®å¦‚ä¸‹ï¼š</p> <p><strong>æ–¹å¼1</strong>ï¼šå¯¹äºç»éªŒä¸°å¯Œçš„å°å›¢é˜Ÿåº”å¯¹å°å‹é¡¹ç›®ï¼Œæƒ³è¦çŸ­æœŸå‡ºæˆæœï¼Œâ€œä¸€ä¸ªå¤§åŒ…â€çš„æ–¹å¼åº”è¯¥æ˜¯ä¼˜é€‰ã€‚è™½ç„¶å¼ºåˆ¶è§„åˆ™çš„ç¼ºä¹ä½¿å¾—ç»´æŠ¤æ—¶éœ€è¦è°¨å°æ…å¾®å’Œå¤§é‡åè°ƒï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¯åŠ¨éš¾åº¦æ›´ä½å’Œé€Ÿåº¦æ›´å¿«</p> <p><strong>æ–¹å¼2</strong>ï¼šç»„åˆåŒ…ä½œä¸ºå…¶ä»–ä¸¤ç§æ–¹å¼çš„æ··è¡€å„¿ï¼Œç»´æŠ¤èµ·æ¥ç›¸å¯¹è¾ƒå¿«å’Œå®¹æ˜“ï¼Œå…¼å¤‡å¼ºåˆ¶è§„åˆ™çº¦æŸã€‚å®ƒé€‚ç”¨äºæ›´å¤§å›¢é˜Ÿç”¨äºå¤„ç†æ›´å¤§é¡¹ç›®çš„åœºæ™¯ï¼Œä½†æ˜¯ä»ç¼ºä¹é‡ç”¨æ€§å’Œå…ä¸äº†ç»´æŠ¤ç²¾åŠ›</p> <p><strong>æ–¹å¼3</strong>ï¼šâ€œç‹¬ç«‹åŒ…â€é€‚ç”¨äºé€»è¾‘è´Ÿè´£çš„ã€æ›´å¤§å‹çš„ã€æ›´é•¿æœŸçš„ã€æ›´å¤§è§„æ¨¡å›¢é˜Ÿçš„æˆ–éƒ¨åˆ†é€»è¾‘éœ€è¦åç»­é‡ç”¨çš„é¡¹ç›®ã€‚è¿™ç§æ–¹å¼éœ€è¦æ›´é•¿çš„å®ç°å‘¨æœŸå’ŒèŠ±è´¹æ›´å¤šæ—¶é—´ç”¨äºç»´æŠ¤</p> <p>åœ¨PerimeterXï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åç»­ä¸¤ç§æ–¹å¼çš„ç»„åˆä½“ã€‚å¸¸ç”¨åº“é‡‡ç”¨ç‹¬ç«‹åŒ…è€ŒæœåŠ¡åˆ™é‡‡ç”¨ç»„åˆåŒ…çš„æ–¹å¼ã€‚å¼ºçƒˆå¸Œæœ›èƒ½å¤Ÿé‚€è¯·åˆ°ä½ æ¥åˆ†äº«ç»„ç»‡Goä»£ç çš„å¿ƒå¾—ã€‚ä½ è¿˜çŸ¥é“å…¶ä»–æ–¹å¼å—ï¼Ÿä½ æ˜¯å¦æœ‰å¯¹æœ¬æ–‡æ‰€è¿°æ–¹æ³•æœ‰æ”¹è¿›æ„è§ï¼ŸæœŸå¾…ä½ çš„å£°éŸ³~</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/26/2021, 5:43:25 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…" class="sidebar-link reco-side-æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…" data-v-70334359>æ–¹å¼1ï¼šä¸€ä¸ªå¤§åŒ…</a></li><li class="level-2" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼2-ç»„åˆåŒ…" class="sidebar-link reco-side-æ–¹å¼2-ç»„åˆåŒ…" data-v-70334359>æ–¹å¼2ï¼šç»„åˆåŒ…</a></li><li class="level-2" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼3-ç‹¬ç«‹åŒ…" class="sidebar-link reco-side-æ–¹å¼3-ç‹¬ç«‹åŒ…" data-v-70334359>æ–¹å¼3ï¼šç‹¬ç«‹åŒ…</a></li><li class="level-2" data-v-70334359><a href="/ok-lets-go/#ä¼˜ç¼ºç‚¹å¯¹æ¯”" class="sidebar-link reco-side-ä¼˜ç¼ºç‚¹å¯¹æ¯”" data-v-70334359>ä¼˜ç¼ºç‚¹å¯¹æ¯”</a></li><li class="level-3" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…-2" class="sidebar-link reco-side-æ–¹å¼1-ä¸€ä¸ªå¤§åŒ…-2" data-v-70334359>æ–¹å¼1ï¼šä¸€ä¸ªå¤§åŒ…</a></li><li class="level-3" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼2-ç»„åˆåŒ…-2" class="sidebar-link reco-side-æ–¹å¼2-ç»„åˆåŒ…-2" data-v-70334359>æ–¹å¼2ï¼šç»„åˆåŒ…</a></li><li class="level-3" data-v-70334359><a href="/ok-lets-go/#æ–¹å¼3-ç‹¬ç«‹åŒ…-2" class="sidebar-link reco-side-æ–¹å¼3-ç‹¬ç«‹åŒ…-2" data-v-70334359>æ–¹å¼3ï¼šç‹¬ç«‹åŒ…</a></li><li class="level-2" data-v-70334359><a href="/ok-lets-go/#æ€»ç»“å’Œç”¨ä¾‹åˆ†æ" class="sidebar-link reco-side-æ€»ç»“å’Œç”¨ä¾‹åˆ†æ" data-v-70334359>æ€»ç»“å’Œç”¨ä¾‹åˆ†æ</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.dd9aac12.js" defer></script><script src="/assets/js/3.3f52b992.js" defer></script><script src="/assets/js/1.86295094.js" defer></script><script src="/assets/js/48.b9824382.js" defer></script>
  </body>
</html>
